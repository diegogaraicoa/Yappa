{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}},{"name":"expo-device","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":38,"index":91}}],"key":"bBpmAhO1g++sdeUzQmFVGoQIVwg=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":92},"end":{"line":3,"column":39,"index":131}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":132},"end":{"line":4,"column":40,"index":172}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":173},"end":{"line":5,"column":69,"index":242}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":243},"end":{"line":6,"column":24,"index":267}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"pushNotificationService\", {\n    enumerable: true,\n    get: function () {\n      return pushNotificationService;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[2], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoNotifications = require(_dependencyMap[3], \"expo-notifications\");\n  var Notifications = _interopNamespace(_expoNotifications);\n  var _expoDevice = require(_dependencyMap[4], \"expo-device\");\n  var Device = _interopNamespace(_expoDevice);\n  var _expoConstants = require(_dependencyMap[5], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactNative = require(_dependencyMap[6], \"react-native\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[7], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _api = require(_dependencyMap[8], \"./api\");\n  var api = _interopDefault(_api);\n  // Project ID de EAS\n  var EAS_PROJECT_ID = Constants.default.expoConfig?.extra?.eas?.projectId || '1d4993ea-b1c2-456d-bcf1-928c0dc0b80a';\n\n  // Configurar c√≥mo se manejan las notificaciones cuando la app est√° en primer plano\n  Notifications.setNotificationHandler({\n    handleNotification: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        return {\n          shouldShowAlert: true,\n          shouldPlaySound: true,\n          shouldSetBadge: true,\n          shouldShowBanner: true,\n          shouldShowList: true\n        };\n      });\n      return function handleNotification() {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  });\n  var PushNotificationService = /*#__PURE__*/function () {\n    function PushNotificationService() {\n      (0, _classCallCheck.default)(this, PushNotificationService);\n      this.expoPushToken = null;\n    }\n    return (0, _createClass.default)(PushNotificationService, [{\n      key: \"registerForPushNotifications\",\n      value: // Registrar para recibir push notifications\n      function () {\n        var _registerForPushNotifications = (0, _asyncToGenerator.default)(function* () {\n          console.log('üì± PUSH: Registering for push notifications...');\n\n          // Verificar si es un dispositivo f√≠sico\n          if (!Device.isDevice) {\n            console.log('‚ö†Ô∏è PUSH: Must use physical device for Push Notifications');\n            return null;\n          }\n\n          // Verificar/solicitar permisos\n          var _yield$Notifications$ = yield Notifications.getPermissionsAsync(),\n            existingStatus = _yield$Notifications$.status;\n          var finalStatus = existingStatus;\n          if (existingStatus !== 'granted') {\n            console.log('üì± PUSH: Requesting permissions...');\n            var _yield$Notifications$2 = yield Notifications.requestPermissionsAsync(),\n              status = _yield$Notifications$2.status;\n            finalStatus = status;\n          }\n          if (finalStatus !== 'granted') {\n            console.log('‚ùå PUSH: Permission not granted');\n            return null;\n          }\n\n          // Obtener el token de Expo Push\n          try {\n            console.log('üì± PUSH: Using project ID:', EAS_PROJECT_ID);\n            var tokenData = yield Notifications.getExpoPushTokenAsync({\n              projectId: EAS_PROJECT_ID\n            });\n            this.expoPushToken = tokenData.data;\n            console.log('‚úÖ PUSH: Token obtained:', this.expoPushToken);\n\n            // Guardar token localmente\n            yield AsyncStorage.default.setItem('expoPushToken', this.expoPushToken);\n\n            // Enviar token al backend\n            yield this.sendTokenToBackend(this.expoPushToken);\n            return this.expoPushToken;\n          } catch (error) {\n            console.error('‚ùå PUSH: Error getting token:', error);\n            return null;\n          }\n        });\n        function registerForPushNotifications() {\n          return _registerForPushNotifications.apply(this, arguments);\n        }\n        return registerForPushNotifications;\n      }() // Enviar token al backend para guardarlo\n    }, {\n      key: \"sendTokenToBackend\",\n      value: function () {\n        var _sendTokenToBackend = (0, _asyncToGenerator.default)(function* (token) {\n          try {\n            yield api.default.post('/api/notifications/register-token', {\n              push_token: token,\n              platform: _reactNative.Platform.OS\n            });\n            console.log('‚úÖ PUSH: Token registered with backend');\n          } catch (error) {\n            console.error('‚ùå PUSH: Error registering token with backend:', error);\n          }\n        });\n        function sendTokenToBackend(_x) {\n          return _sendTokenToBackend.apply(this, arguments);\n        }\n        return sendTokenToBackend;\n      }() // Programar una notificaci√≥n local\n    }, {\n      key: \"scheduleLocalNotification\",\n      value: function () {\n        var _scheduleLocalNotification = (0, _asyncToGenerator.default)(function* (title, body, data, trigger) {\n          var notificationId = yield Notifications.scheduleNotificationAsync({\n            content: {\n              title,\n              body,\n              data: data || {},\n              sound: true,\n              priority: Notifications.AndroidNotificationPriority.HIGH\n            },\n            trigger: trigger || null // null = inmediata\n          });\n          console.log('üì¨ PUSH: Local notification scheduled:', notificationId);\n          return notificationId;\n        });\n        function scheduleLocalNotification(_x2, _x3, _x4, _x5) {\n          return _scheduleLocalNotification.apply(this, arguments);\n        }\n        return scheduleLocalNotification;\n      }() // Mostrar notificaci√≥n de insight cr√≠tico\n    }, {\n      key: \"notifyInsight\",\n      value: function () {\n        var _notifyInsight = (0, _asyncToGenerator.default)(function* (type, message, entityId) {\n          var titles = {\n            critical_stock: 'üö® ¬°Stock Agotado!',\n            low_stock: '‚ö†Ô∏è Stock Bajo',\n            debt: 'üí∞ Deuda Pendiente'\n          };\n          var icons = {\n            critical_stock: '‚ö†Ô∏è',\n            low_stock: 'üì¶',\n            debt: 'üí∞'\n          };\n          yield this.scheduleLocalNotification(titles[type] || 'Yappa Insight', message, {\n            type,\n            entityId,\n            screen: type === 'debt' ? 'customers' : 'inventory'\n          });\n        });\n        function notifyInsight(_x6, _x7, _x8) {\n          return _notifyInsight.apply(this, arguments);\n        }\n        return notifyInsight;\n      }() // Verificar y notificar insights cr√≠ticos (llamar peri√≥dicamente)\n    }, {\n      key: \"checkAndNotifyInsights\",\n      value: function () {\n        var _checkAndNotifyInsights = (0, _asyncToGenerator.default)(function* () {\n          try {\n            console.log('üîç PUSH: Checking for critical insights...');\n            var response = yield api.default.get('/api/ai/all-insights');\n            var insights = response.data.insights || [];\n\n            // Obtener √∫ltimas notificaciones enviadas\n            var lastNotifiedStr = yield AsyncStorage.default.getItem('lastNotifiedInsights');\n            var lastNotified = lastNotifiedStr ? JSON.parse(lastNotifiedStr) : [];\n            var criticalInsights = insights.filter(i => (i.type === 'critical_stock' || i.priority >= 8) && !lastNotified.includes(i.id));\n            if (criticalInsights.length > 0) {\n              console.log(`üì¨ PUSH: Found ${criticalInsights.length} new critical insights`);\n\n              // Notificar solo el m√°s cr√≠tico para no saturar\n              var mostCritical = criticalInsights[0];\n              yield this.notifyInsight(mostCritical.type, mostCritical.message, mostCritical.cta_data?.product_id);\n\n              // Guardar que ya se notific√≥\n              var newNotified = [...lastNotified, ...criticalInsights.map(i => i.id)].slice(-50);\n              yield AsyncStorage.default.setItem('lastNotifiedInsights', JSON.stringify(newNotified));\n            }\n          } catch (error) {\n            console.error('‚ùå PUSH: Error checking insights:', error);\n          }\n        });\n        function checkAndNotifyInsights() {\n          return _checkAndNotifyInsights.apply(this, arguments);\n        }\n        return checkAndNotifyInsights;\n      }() // Listeners para cuando se recibe o se toca una notificaci√≥n\n    }, {\n      key: \"addNotificationReceivedListener\",\n      value: function addNotificationReceivedListener(callback) {\n        return Notifications.addNotificationReceivedListener(callback);\n      }\n    }, {\n      key: \"addNotificationResponseReceivedListener\",\n      value: function addNotificationResponseReceivedListener(callback) {\n        return Notifications.addNotificationResponseReceivedListener(callback);\n      }\n\n      // Cancelar todas las notificaciones\n    }, {\n      key: \"cancelAllNotifications\",\n      value: function () {\n        var _cancelAllNotifications = (0, _asyncToGenerator.default)(function* () {\n          yield Notifications.cancelAllScheduledNotificationsAsync();\n          console.log('üóëÔ∏è PUSH: All notifications cancelled');\n        });\n        function cancelAllNotifications() {\n          return _cancelAllNotifications.apply(this, arguments);\n        }\n        return cancelAllNotifications;\n      }() // Obtener el badge actual\n    }, {\n      key: \"getBadgeCount\",\n      value: function () {\n        var _getBadgeCount = (0, _asyncToGenerator.default)(function* () {\n          return yield Notifications.getBadgeCountAsync();\n        });\n        function getBadgeCount() {\n          return _getBadgeCount.apply(this, arguments);\n        }\n        return getBadgeCount;\n      }() // Establecer el badge\n    }, {\n      key: \"setBadgeCount\",\n      value: function () {\n        var _setBadgeCount = (0, _asyncToGenerator.default)(function* (count) {\n          yield Notifications.setBadgeCountAsync(count);\n        });\n        function setBadgeCount(_x9) {\n          return _setBadgeCount.apply(this, arguments);\n        }\n        return setBadgeCount;\n      }()\n    }]);\n  }();\n  var pushNotificationService = new PushNotificationService();\n  var _default = pushNotificationService;\n});","lineCount":283,"map":[[27,2,187,0,"Object"],[27,8,187,0],[27,9,187,0,"defineProperty"],[27,23,187,0],[27,24,187,0,"exports"],[27,31,187,0],[28,4,187,0,"enumerable"],[28,14,187,0],[29,4,187,0,"get"],[29,7,187,0],[29,18,187,0,"get"],[29,19,187,0],[30,6,187,0],[30,13,187,0,"_default"],[30,21,187,0],[31,4,187,0],[32,2,187,0],[33,2,186,0,"Object"],[33,8,186,0],[33,9,186,0,"defineProperty"],[33,23,186,0],[33,24,186,0,"exports"],[33,31,186,0],[34,4,186,0,"enumerable"],[34,14,186,0],[35,4,186,0,"get"],[35,7,186,0],[35,18,186,0,"get"],[35,19,186,0],[36,6,186,0],[36,13,186,0,"pushNotificationService"],[36,36,186,0],[37,4,186,0],[38,2,186,0],[39,2,186,69],[39,6,186,69,"_babelRuntimeHelpersClassCallCheck"],[39,40,186,69],[39,43,186,69,"require"],[39,50,186,69],[39,51,186,69,"_dependencyMap"],[39,65,186,69],[40,2,186,69],[40,6,186,69,"_classCallCheck"],[40,21,186,69],[40,24,186,69,"_interopDefault"],[40,39,186,69],[40,40,186,69,"_babelRuntimeHelpersClassCallCheck"],[40,74,186,69],[41,2,186,69],[41,6,186,69,"_babelRuntimeHelpersCreateClass"],[41,37,186,69],[41,40,186,69,"require"],[41,47,186,69],[41,48,186,69,"_dependencyMap"],[41,62,186,69],[42,2,186,69],[42,6,186,69,"_createClass"],[42,18,186,69],[42,21,186,69,"_interopDefault"],[42,36,186,69],[42,37,186,69,"_babelRuntimeHelpersCreateClass"],[42,68,186,69],[43,2,186,69],[43,6,186,69,"_babelRuntimeHelpersAsyncToGenerator"],[43,42,186,69],[43,45,186,69,"require"],[43,52,186,69],[43,53,186,69,"_dependencyMap"],[43,67,186,69],[44,2,186,69],[44,6,186,69,"_asyncToGenerator"],[44,23,186,69],[44,26,186,69,"_interopDefault"],[44,41,186,69],[44,42,186,69,"_babelRuntimeHelpersAsyncToGenerator"],[44,78,186,69],[45,2,1,0],[45,6,1,0,"_expoNotifications"],[45,24,1,0],[45,27,1,0,"require"],[45,34,1,0],[45,35,1,0,"_dependencyMap"],[45,49,1,0],[46,2,1,0],[46,6,1,0,"Notifications"],[46,19,1,0],[46,22,1,0,"_interopNamespace"],[46,39,1,0],[46,40,1,0,"_expoNotifications"],[46,58,1,0],[47,2,2,0],[47,6,2,0,"_expoDevice"],[47,17,2,0],[47,20,2,0,"require"],[47,27,2,0],[47,28,2,0,"_dependencyMap"],[47,42,2,0],[48,2,2,0],[48,6,2,0,"Device"],[48,12,2,0],[48,15,2,0,"_interopNamespace"],[48,32,2,0],[48,33,2,0,"_expoDevice"],[48,44,2,0],[49,2,3,0],[49,6,3,0,"_expoConstants"],[49,20,3,0],[49,23,3,0,"require"],[49,30,3,0],[49,31,3,0,"_dependencyMap"],[49,45,3,0],[50,2,3,0],[50,6,3,0,"Constants"],[50,15,3,0],[50,18,3,0,"_interopDefault"],[50,33,3,0],[50,34,3,0,"_expoConstants"],[50,48,3,0],[51,2,4,0],[51,6,4,0,"_reactNative"],[51,18,4,0],[51,21,4,0,"require"],[51,28,4,0],[51,29,4,0,"_dependencyMap"],[51,43,4,0],[52,2,5,0],[52,6,5,0,"_reactNativeAsyncStorageAsyncStorage"],[52,42,5,0],[52,45,5,0,"require"],[52,52,5,0],[52,53,5,0,"_dependencyMap"],[52,67,5,0],[53,2,5,0],[53,6,5,0,"AsyncStorage"],[53,18,5,0],[53,21,5,0,"_interopDefault"],[53,36,5,0],[53,37,5,0,"_reactNativeAsyncStorageAsyncStorage"],[53,73,5,0],[54,2,6,0],[54,6,6,0,"_api"],[54,10,6,0],[54,13,6,0,"require"],[54,20,6,0],[54,21,6,0,"_dependencyMap"],[54,35,6,0],[55,2,6,0],[55,6,6,0,"api"],[55,9,6,0],[55,12,6,0,"_interopDefault"],[55,27,6,0],[55,28,6,0,"_api"],[55,32,6,0],[56,2,8,0],[57,2,9,0],[57,6,9,6,"EAS_PROJECT_ID"],[57,20,9,20],[57,23,9,23,"Constants"],[57,32,9,32],[57,33,9,32,"default"],[57,40,9,32],[57,41,9,33,"expoConfig"],[57,51,9,43],[57,53,9,45,"extra"],[57,58,9,50],[57,60,9,52,"eas"],[57,63,9,55],[57,65,9,57,"projectId"],[57,74,9,66],[57,78,9,70],[57,116,9,108],[59,2,11,0],[60,2,12,0,"Notifications"],[60,15,12,13],[60,16,12,14,"setNotificationHandler"],[60,38,12,36],[60,39,12,37],[61,4,13,2,"handleNotification"],[61,22,13,20],[62,6,13,20],[62,10,13,20,"_ref"],[62,14,13,20],[62,21,13,20,"_asyncToGenerator"],[62,38,13,20],[62,39,13,20,"default"],[62,46,13,20],[62,48,13,22],[63,8,13,22],[63,15,13,35],[64,10,14,4,"shouldShowAlert"],[64,25,14,19],[64,27,14,21],[64,31,14,25],[65,10,15,4,"shouldPlaySound"],[65,25,15,19],[65,27,15,21],[65,31,15,25],[66,10,16,4,"shouldSetBadge"],[66,24,16,18],[66,26,16,20],[66,30,16,24],[67,10,17,4,"shouldShowBanner"],[67,26,17,20],[67,28,17,22],[67,32,17,26],[68,10,18,4,"shouldShowList"],[68,24,18,18],[68,26,18,20],[69,8,19,2],[69,9,19,3],[70,6,19,3],[70,7,19,4],[71,6,19,4],[71,22,13,2,"handleNotification"],[71,40,13,20,"handleNotification"],[71,41,13,20],[72,8,13,20],[72,15,13,20,"_ref"],[72,19,13,20],[72,20,13,20,"apply"],[72,25,13,20],[72,32,13,20,"arguments"],[72,41,13,20],[73,6,13,20],[74,4,13,20],[75,2,20,0],[75,3,20,1],[75,4,20,2],[76,2,20,3],[76,6,22,6,"PushNotificationService"],[76,29,22,29],[77,4,22,29],[77,13,22,29,"PushNotificationService"],[77,37,22,29],[78,6,22,29],[78,10,22,29,"_classCallCheck"],[78,25,22,29],[78,26,22,29,"default"],[78,33,22,29],[78,41,22,29,"PushNotificationService"],[78,64,22,29],[79,6,22,29],[79,11,23,10,"expoPushToken"],[79,24,23,23],[79,27,23,41],[79,31,23,45],[80,4,23,45],[81,4,23,45],[81,15,23,45,"_createClass"],[81,27,23,45],[81,28,23,45,"default"],[81,35,23,45],[81,37,23,45,"PushNotificationService"],[81,60,23,45],[82,6,23,45,"key"],[82,9,23,45],[83,6,23,45,"value"],[83,11,23,45],[83,13,25,2],[84,6,25,2],[85,8,25,2],[85,12,25,2,"_registerForPushNotifications"],[85,41,25,2],[85,48,25,2,"_asyncToGenerator"],[85,65,25,2],[85,66,25,2,"default"],[85,73,25,2],[85,75,26,2],[85,88,26,63],[86,10,27,4,"console"],[86,17,27,11],[86,18,27,12,"log"],[86,21,27,15],[86,22,27,16],[86,70,27,64],[86,71,27,65],[88,10,29,4],[89,10,30,4],[89,14,30,8],[89,15,30,9,"Device"],[89,21,30,15],[89,22,30,16,"isDevice"],[89,30,30,24],[89,32,30,26],[90,12,31,6,"console"],[90,19,31,13],[90,20,31,14,"log"],[90,23,31,17],[90,24,31,18],[90,82,31,76],[90,83,31,77],[91,12,32,6],[91,19,32,13],[91,23,32,17],[92,10,33,4],[94,10,35,4],[95,10,36,4],[95,14,36,4,"_yield$Notifications$"],[95,35,36,4],[95,44,36,45,"Notifications"],[95,57,36,58],[95,58,36,59,"getPermissionsAsync"],[95,77,36,78],[95,78,36,79],[95,79,36,80],[96,12,36,20,"existingStatus"],[96,26,36,34],[96,29,36,34,"_yield$Notifications$"],[96,50,36,34],[96,51,36,12,"status"],[96,57,36,18],[97,10,37,4],[97,14,37,8,"finalStatus"],[97,25,37,19],[97,28,37,22,"existingStatus"],[97,42,37,36],[98,10,39,4],[98,14,39,8,"existingStatus"],[98,28,39,22],[98,33,39,27],[98,42,39,36],[98,44,39,38],[99,12,40,6,"console"],[99,19,40,13],[99,20,40,14,"log"],[99,23,40,17],[99,24,40,18],[99,60,40,54],[99,61,40,55],[100,12,41,6],[100,16,41,6,"_yield$Notifications$2"],[100,38,41,6],[100,47,41,31,"Notifications"],[100,60,41,44],[100,61,41,45,"requestPermissionsAsync"],[100,84,41,68],[100,85,41,69],[100,86,41,70],[101,14,41,14,"status"],[101,20,41,20],[101,23,41,20,"_yield$Notifications$2"],[101,45,41,20],[101,46,41,14,"status"],[101,52,41,20],[102,12,42,6,"finalStatus"],[102,23,42,17],[102,26,42,20,"status"],[102,32,42,26],[103,10,43,4],[104,10,45,4],[104,14,45,8,"finalStatus"],[104,25,45,19],[104,30,45,24],[104,39,45,33],[104,41,45,35],[105,12,46,6,"console"],[105,19,46,13],[105,20,46,14,"log"],[105,23,46,17],[105,24,46,18],[105,56,46,50],[105,57,46,51],[106,12,47,6],[106,19,47,13],[106,23,47,17],[107,10,48,4],[109,10,50,4],[110,10,51,4],[110,14,51,8],[111,12,52,6,"console"],[111,19,52,13],[111,20,52,14,"log"],[111,23,52,17],[111,24,52,18],[111,52,52,46],[111,54,52,48,"EAS_PROJECT_ID"],[111,68,52,62],[111,69,52,63],[112,12,53,6],[112,16,53,12,"tokenData"],[112,25,53,21],[112,34,53,30,"Notifications"],[112,47,53,43],[112,48,53,44,"getExpoPushTokenAsync"],[112,69,53,65],[112,70,53,66],[113,14,54,8,"projectId"],[113,23,54,17],[113,25,54,19,"EAS_PROJECT_ID"],[114,12,55,6],[114,13,55,7],[114,14,55,8],[115,12,56,6],[115,16,56,10],[115,17,56,11,"expoPushToken"],[115,30,56,24],[115,33,56,27,"tokenData"],[115,42,56,36],[115,43,56,37,"data"],[115,47,56,41],[116,12,57,6,"console"],[116,19,57,13],[116,20,57,14,"log"],[116,23,57,17],[116,24,57,18],[116,49,57,43],[116,51,57,45],[116,55,57,49],[116,56,57,50,"expoPushToken"],[116,69,57,63],[116,70,57,64],[118,12,59,6],[119,12,60,6],[119,18,60,12,"AsyncStorage"],[119,30,60,24],[119,31,60,24,"default"],[119,38,60,24],[119,39,60,25,"setItem"],[119,46,60,32],[119,47,60,33],[119,62,60,48],[119,64,60,50],[119,68,60,54],[119,69,60,55,"expoPushToken"],[119,82,60,68],[119,83,60,69],[121,12,62,6],[122,12,63,6],[122,18,63,12],[122,22,63,16],[122,23,63,17,"sendTokenToBackend"],[122,41,63,35],[122,42,63,36],[122,46,63,40],[122,47,63,41,"expoPushToken"],[122,60,63,54],[122,61,63,55],[123,12,65,6],[123,19,65,13],[123,23,65,17],[123,24,65,18,"expoPushToken"],[123,37,65,31],[124,10,66,4],[124,11,66,5],[124,12,66,6],[124,19,66,13,"error"],[124,24,66,18],[124,26,66,20],[125,12,67,6,"console"],[125,19,67,13],[125,20,67,14,"error"],[125,25,67,19],[125,26,67,20],[125,56,67,50],[125,58,67,52,"error"],[125,63,67,57],[125,64,67,58],[126,12,68,6],[126,19,68,13],[126,23,68,17],[127,10,69,4],[128,8,70,2],[128,9,70,3],[129,8,70,3],[129,17,26,8,"registerForPushNotifications"],[129,45,26,36,"registerForPushNotifications"],[129,46,26,36],[130,10,26,36],[130,17,26,36,"_registerForPushNotifications"],[130,46,26,36],[130,47,26,36,"apply"],[130,52,26,36],[130,59,26,36,"arguments"],[130,68,26,36],[131,8,26,36],[132,8,26,36],[132,15,26,8,"registerForPushNotifications"],[132,43,26,36],[133,6,26,36],[133,10,72,2],[134,4,72,2],[135,6,72,2,"key"],[135,9,72,2],[136,6,72,2,"value"],[136,11,72,2],[137,8,72,2],[137,12,72,2,"_sendTokenToBackend"],[137,31,72,2],[137,38,72,2,"_asyncToGenerator"],[137,55,72,2],[137,56,72,2,"default"],[137,63,72,2],[137,65,73,2],[137,76,73,35,"token"],[137,81,73,48],[137,83,73,65],[138,10,74,4],[138,14,74,8],[139,12,75,6],[139,18,75,12,"api"],[139,21,75,15],[139,22,75,15,"default"],[139,29,75,15],[139,30,75,16,"post"],[139,34,75,20],[139,35,75,21],[139,70,75,56],[139,72,75,58],[140,14,76,8,"push_token"],[140,24,76,18],[140,26,76,20,"token"],[140,31,76,25],[141,14,77,8,"platform"],[141,22,77,16],[141,24,77,18,"Platform"],[141,36,77,26],[141,37,77,26,"Platform"],[141,45,77,26],[141,46,77,27,"OS"],[142,12,78,6],[142,13,78,7],[142,14,78,8],[143,12,79,6,"console"],[143,19,79,13],[143,20,79,14,"log"],[143,23,79,17],[143,24,79,18],[143,63,79,57],[143,64,79,58],[144,10,80,4],[144,11,80,5],[144,12,80,6],[144,19,80,13,"error"],[144,24,80,18],[144,26,80,20],[145,12,81,6,"console"],[145,19,81,13],[145,20,81,14,"error"],[145,25,81,19],[145,26,81,20],[145,73,81,67],[145,75,81,69,"error"],[145,80,81,74],[145,81,81,75],[146,10,82,4],[147,8,83,2],[147,9,83,3],[148,8,83,3],[148,17,73,16,"sendTokenToBackend"],[148,35,73,34,"sendTokenToBackend"],[148,36,73,34,"_x"],[148,38,73,34],[149,10,73,34],[149,17,73,34,"_sendTokenToBackend"],[149,36,73,34],[149,37,73,34,"apply"],[149,42,73,34],[149,49,73,34,"arguments"],[149,58,73,34],[150,8,73,34],[151,8,73,34],[151,15,73,16,"sendTokenToBackend"],[151,33,73,34],[152,6,73,34],[152,10,85,2],[153,4,85,2],[154,6,85,2,"key"],[154,9,85,2],[155,6,85,2,"value"],[155,11,85,2],[156,8,85,2],[156,12,85,2,"_scheduleLocalNotification"],[156,38,85,2],[156,45,85,2,"_asyncToGenerator"],[156,62,85,2],[156,63,85,2,"default"],[156,70,85,2],[156,72,86,2],[156,83,87,4,"title"],[156,88,87,17],[156,90,88,4,"body"],[156,94,88,16],[156,96,89,4,"data"],[156,100,89,30],[156,102,90,4,"trigger"],[156,109,90,52],[156,111,91,21],[157,10,92,4],[157,14,92,10,"notificationId"],[157,28,92,24],[157,37,92,33,"Notifications"],[157,50,92,46],[157,51,92,47,"scheduleNotificationAsync"],[157,76,92,72],[157,77,92,73],[158,12,93,6,"content"],[158,19,93,13],[158,21,93,15],[159,14,94,8,"title"],[159,19,94,13],[160,14,95,8,"body"],[160,18,95,12],[161,14,96,8,"data"],[161,18,96,12],[161,20,96,14,"data"],[161,24,96,18],[161,28,96,22],[161,29,96,23],[161,30,96,24],[162,14,97,8,"sound"],[162,19,97,13],[162,21,97,15],[162,25,97,19],[163,14,98,8,"priority"],[163,22,98,16],[163,24,98,18,"Notifications"],[163,37,98,31],[163,38,98,32,"AndroidNotificationPriority"],[163,65,98,59],[163,66,98,60,"HIGH"],[164,12,99,6],[164,13,99,7],[165,12,100,6,"trigger"],[165,19,100,13],[165,21,100,15,"trigger"],[165,28,100,22],[165,32,100,26],[165,36,100,30],[165,37,100,32],[166,10,101,4],[166,11,101,5],[166,12,101,6],[167,10,103,4,"console"],[167,17,103,11],[167,18,103,12,"log"],[167,21,103,15],[167,22,103,16],[167,62,103,56],[167,64,103,58,"notificationId"],[167,78,103,72],[167,79,103,73],[168,10,104,4],[168,17,104,11,"notificationId"],[168,31,104,25],[169,8,105,2],[169,9,105,3],[170,8,105,3],[170,17,86,8,"scheduleLocalNotification"],[170,42,86,33,"scheduleLocalNotification"],[170,43,86,33,"_x2"],[170,46,86,33],[170,48,86,33,"_x3"],[170,51,86,33],[170,53,86,33,"_x4"],[170,56,86,33],[170,58,86,33,"_x5"],[170,61,86,33],[171,10,86,33],[171,17,86,33,"_scheduleLocalNotification"],[171,43,86,33],[171,44,86,33,"apply"],[171,49,86,33],[171,56,86,33,"arguments"],[171,65,86,33],[172,8,86,33],[173,8,86,33],[173,15,86,8,"scheduleLocalNotification"],[173,40,86,33],[174,6,86,33],[174,10,107,2],[175,4,107,2],[176,6,107,2,"key"],[176,9,107,2],[177,6,107,2,"value"],[177,11,107,2],[178,8,107,2],[178,12,107,2,"_notifyInsight"],[178,26,107,2],[178,33,107,2,"_asyncToGenerator"],[178,50,107,2],[178,51,107,2,"default"],[178,58,107,2],[178,60,108,2],[178,71,108,22,"type"],[178,75,108,67],[178,77,108,69,"message"],[178,84,108,84],[178,86,108,86,"entityId"],[178,94,108,103],[178,96,108,120],[179,10,109,4],[179,14,109,10,"titles"],[179,20,109,40],[179,23,109,43],[180,12,110,6,"critical_stock"],[180,26,110,20],[180,28,110,22],[180,48,110,42],[181,12,111,6,"low_stock"],[181,21,111,15],[181,23,111,17],[181,38,111,32],[182,12,112,6,"debt"],[182,16,112,10],[182,18,112,12],[183,10,113,4],[183,11,113,5],[184,10,115,4],[184,14,115,10,"icons"],[184,19,115,39],[184,22,115,42],[185,12,116,6,"critical_stock"],[185,26,116,20],[185,28,116,22],[185,32,116,26],[186,12,117,6,"low_stock"],[186,21,117,15],[186,23,117,17],[186,27,117,21],[187,12,118,6,"debt"],[187,16,118,10],[187,18,118,12],[188,10,119,4],[188,11,119,5],[189,10,121,4],[189,16,121,10],[189,20,121,14],[189,21,121,15,"scheduleLocalNotification"],[189,46,121,40],[189,47,122,6,"titles"],[189,53,122,12],[189,54,122,13,"type"],[189,58,122,17],[189,59,122,18],[189,63,122,22],[189,78,122,37],[189,80,123,6,"message"],[189,87,123,13],[189,89,124,6],[190,12,124,8,"type"],[190,16,124,12],[191,12,124,14,"entityId"],[191,20,124,22],[192,12,124,24,"screen"],[192,18,124,30],[192,20,124,32,"type"],[192,24,124,36],[192,29,124,41],[192,35,124,47],[192,38,124,50],[192,49,124,61],[192,52,124,64],[193,10,124,76],[193,11,125,4],[193,12,125,5],[194,8,126,2],[194,9,126,3],[195,8,126,3],[195,17,108,8,"notifyInsight"],[195,30,108,21,"notifyInsight"],[195,31,108,21,"_x6"],[195,34,108,21],[195,36,108,21,"_x7"],[195,39,108,21],[195,41,108,21,"_x8"],[195,44,108,21],[196,10,108,21],[196,17,108,21,"_notifyInsight"],[196,31,108,21],[196,32,108,21,"apply"],[196,37,108,21],[196,44,108,21,"arguments"],[196,53,108,21],[197,8,108,21],[198,8,108,21],[198,15,108,8,"notifyInsight"],[198,28,108,21],[199,6,108,21],[199,10,128,2],[200,4,128,2],[201,6,128,2,"key"],[201,9,128,2],[202,6,128,2,"value"],[202,11,128,2],[203,8,128,2],[203,12,128,2,"_checkAndNotifyInsights"],[203,35,128,2],[203,42,128,2,"_asyncToGenerator"],[203,59,128,2],[203,60,128,2,"default"],[203,67,128,2],[203,69,129,2],[203,82,129,48],[204,10,130,4],[204,14,130,8],[205,12,131,6,"console"],[205,19,131,13],[205,20,131,14,"log"],[205,23,131,17],[205,24,131,18],[205,68,131,62],[205,69,131,63],[206,12,133,6],[206,16,133,12,"response"],[206,24,133,20],[206,33,133,29,"api"],[206,36,133,32],[206,37,133,32,"default"],[206,44,133,32],[206,45,133,33,"get"],[206,48,133,36],[206,49,133,37],[206,71,133,59],[206,72,133,60],[207,12,134,6],[207,16,134,12,"insights"],[207,24,134,20],[207,27,134,23,"response"],[207,35,134,31],[207,36,134,32,"data"],[207,40,134,36],[207,41,134,37,"insights"],[207,49,134,45],[207,53,134,49],[207,55,134,51],[209,12,136,6],[210,12,137,6],[210,16,137,12,"lastNotifiedStr"],[210,31,137,27],[210,40,137,36,"AsyncStorage"],[210,52,137,48],[210,53,137,48,"default"],[210,60,137,48],[210,61,137,49,"getItem"],[210,68,137,56],[210,69,137,57],[210,91,137,79],[210,92,137,80],[211,12,138,6],[211,16,138,12,"lastNotified"],[211,28,138,34],[211,31,138,37,"lastNotifiedStr"],[211,46,138,52],[211,49,138,55,"JSON"],[211,53,138,59],[211,54,138,60,"parse"],[211,59,138,65],[211,60,138,66,"lastNotifiedStr"],[211,75,138,81],[211,76,138,82],[211,79,138,85],[211,81,138,87],[212,12,140,6],[212,16,140,12,"criticalInsights"],[212,32,140,28],[212,35,140,31,"insights"],[212,43,140,39],[212,44,140,40,"filter"],[212,50,140,46],[212,51,141,9,"i"],[212,52,141,15],[212,56,141,20],[212,57,141,21,"i"],[212,58,141,22],[212,59,141,23,"type"],[212,63,141,27],[212,68,141,32],[212,84,141,48],[212,88,141,52,"i"],[212,89,141,53],[212,90,141,54,"priority"],[212,98,141,62],[212,102,141,66],[212,103,141,67],[212,108,141,72],[212,109,141,73,"lastNotified"],[212,121,141,85],[212,122,141,86,"includes"],[212,130,141,94],[212,131,141,95,"i"],[212,132,141,96],[212,133,141,97,"id"],[212,135,141,99],[212,136,142,6],[212,137,142,7],[213,12,144,6],[213,16,144,10,"criticalInsights"],[213,32,144,26],[213,33,144,27,"length"],[213,39,144,33],[213,42,144,36],[213,43,144,37],[213,45,144,39],[214,14,145,8,"console"],[214,21,145,15],[214,22,145,16,"log"],[214,25,145,19],[214,26,145,20],[214,44,145,38,"criticalInsights"],[214,60,145,54],[214,61,145,55,"length"],[214,67,145,61],[214,91,145,85],[214,92,145,86],[216,14,147,8],[217,14,148,8],[217,18,148,14,"mostCritical"],[217,30,148,26],[217,33,148,29,"criticalInsights"],[217,49,148,45],[217,50,148,46],[217,51,148,47],[217,52,148,48],[218,14,149,8],[218,20,149,14],[218,24,149,18],[218,25,149,19,"notifyInsight"],[218,38,149,32],[218,39,149,33,"mostCritical"],[218,51,149,45],[218,52,149,46,"type"],[218,56,149,50],[218,58,149,52,"mostCritical"],[218,70,149,64],[218,71,149,65,"message"],[218,78,149,72],[218,80,149,74,"mostCritical"],[218,92,149,86],[218,93,149,87,"cta_data"],[218,101,149,95],[218,103,149,97,"product_id"],[218,113,149,107],[218,114,149,108],[220,14,151,8],[221,14,152,8],[221,18,152,14,"newNotified"],[221,29,152,25],[221,32,152,28],[221,33,152,29],[221,36,152,32,"lastNotified"],[221,48,152,44],[221,50,152,46],[221,53,152,49,"criticalInsights"],[221,69,152,65],[221,70,152,66,"map"],[221,73,152,69],[221,74,152,71,"i"],[221,75,152,77],[221,79,152,82,"i"],[221,80,152,83],[221,81,152,84,"id"],[221,83,152,86],[221,84,152,87],[221,85,152,88],[221,86,152,89,"slice"],[221,91,152,94],[221,92,152,95],[221,93,152,96],[221,95,152,98],[221,96,152,99],[222,14,153,8],[222,20,153,14,"AsyncStorage"],[222,32,153,26],[222,33,153,26,"default"],[222,40,153,26],[222,41,153,27,"setItem"],[222,48,153,34],[222,49,153,35],[222,71,153,57],[222,73,153,59,"JSON"],[222,77,153,63],[222,78,153,64,"stringify"],[222,87,153,73],[222,88,153,74,"newNotified"],[222,99,153,85],[222,100,153,86],[222,101,153,87],[223,12,154,6],[224,10,155,4],[224,11,155,5],[224,12,155,6],[224,19,155,13,"error"],[224,24,155,18],[224,26,155,20],[225,12,156,6,"console"],[225,19,156,13],[225,20,156,14,"error"],[225,25,156,19],[225,26,156,20],[225,60,156,54],[225,62,156,56,"error"],[225,67,156,61],[225,68,156,62],[226,10,157,4],[227,8,158,2],[227,9,158,3],[228,8,158,3],[228,17,129,8,"checkAndNotifyInsights"],[228,39,129,30,"checkAndNotifyInsights"],[228,40,129,30],[229,10,129,30],[229,17,129,30,"_checkAndNotifyInsights"],[229,40,129,30],[229,41,129,30,"apply"],[229,46,129,30],[229,53,129,30,"arguments"],[229,62,129,30],[230,8,129,30],[231,8,129,30],[231,15,129,8,"checkAndNotifyInsights"],[231,37,129,30],[232,6,129,30],[232,10,160,2],[233,4,160,2],[234,6,160,2,"key"],[234,9,160,2],[235,6,160,2,"value"],[235,11,160,2],[235,13,161,2],[235,22,161,2,"addNotificationReceivedListener"],[235,53,161,33,"addNotificationReceivedListener"],[235,54,161,34,"callback"],[235,62,161,94],[235,64,161,96],[236,8,162,4],[236,15,162,11,"Notifications"],[236,28,162,24],[236,29,162,25,"addNotificationReceivedListener"],[236,60,162,56],[236,61,162,57,"callback"],[236,69,162,65],[236,70,162,66],[237,6,163,2],[238,4,163,3],[239,6,163,3,"key"],[239,9,163,3],[240,6,163,3,"value"],[240,11,163,3],[240,13,165,2],[240,22,165,2,"addNotificationResponseReceivedListener"],[240,61,165,41,"addNotificationResponseReceivedListener"],[240,62,165,42,"callback"],[240,70,165,106],[240,72,165,108],[241,8,166,4],[241,15,166,11,"Notifications"],[241,28,166,24],[241,29,166,25,"addNotificationResponseReceivedListener"],[241,68,166,64],[241,69,166,65,"callback"],[241,77,166,73],[241,78,166,74],[242,6,167,2],[244,6,169,2],[245,4,169,2],[246,6,169,2,"key"],[246,9,169,2],[247,6,169,2,"value"],[247,11,169,2],[248,8,169,2],[248,12,169,2,"_cancelAllNotifications"],[248,35,169,2],[248,42,169,2,"_asyncToGenerator"],[248,59,169,2],[248,60,169,2,"default"],[248,67,169,2],[248,69,170,2],[248,82,170,48],[249,10,171,4],[249,16,171,10,"Notifications"],[249,29,171,23],[249,30,171,24,"cancelAllScheduledNotificationsAsync"],[249,66,171,60],[249,67,171,61],[249,68,171,62],[250,10,172,4,"console"],[250,17,172,11],[250,18,172,12,"log"],[250,21,172,15],[250,22,172,16],[250,61,172,55],[250,62,172,56],[251,8,173,2],[251,9,173,3],[252,8,173,3],[252,17,170,8,"cancelAllNotifications"],[252,39,170,30,"cancelAllNotifications"],[252,40,170,30],[253,10,170,30],[253,17,170,30,"_cancelAllNotifications"],[253,40,170,30],[253,41,170,30,"apply"],[253,46,170,30],[253,53,170,30,"arguments"],[253,62,170,30],[254,8,170,30],[255,8,170,30],[255,15,170,8,"cancelAllNotifications"],[255,37,170,30],[256,6,170,30],[256,10,175,2],[257,4,175,2],[258,6,175,2,"key"],[258,9,175,2],[259,6,175,2,"value"],[259,11,175,2],[260,8,175,2],[260,12,175,2,"_getBadgeCount"],[260,26,175,2],[260,33,175,2,"_asyncToGenerator"],[260,50,175,2],[260,51,175,2,"default"],[260,58,175,2],[260,60,176,2],[260,73,176,41],[261,10,177,4],[261,23,177,17,"Notifications"],[261,36,177,30],[261,37,177,31,"getBadgeCountAsync"],[261,55,177,49],[261,56,177,50],[261,57,177,51],[262,8,178,2],[262,9,178,3],[263,8,178,3],[263,17,176,8,"getBadgeCount"],[263,30,176,21,"getBadgeCount"],[263,31,176,21],[264,10,176,21],[264,17,176,21,"_getBadgeCount"],[264,31,176,21],[264,32,176,21,"apply"],[264,37,176,21],[264,44,176,21,"arguments"],[264,53,176,21],[265,8,176,21],[266,8,176,21],[266,15,176,8,"getBadgeCount"],[266,28,176,21],[267,6,176,21],[267,10,180,2],[268,4,180,2],[269,6,180,2,"key"],[269,9,180,2],[270,6,180,2,"value"],[270,11,180,2],[271,8,180,2],[271,12,180,2,"_setBadgeCount"],[271,26,180,2],[271,33,180,2,"_asyncToGenerator"],[271,50,180,2],[271,51,180,2,"default"],[271,58,180,2],[271,60,181,2],[271,71,181,22,"count"],[271,76,181,35],[271,78,181,52],[272,10,182,4],[272,16,182,10,"Notifications"],[272,29,182,23],[272,30,182,24,"setBadgeCountAsync"],[272,48,182,42],[272,49,182,43,"count"],[272,54,182,48],[272,55,182,49],[273,8,183,2],[273,9,183,3],[274,8,183,3],[274,17,181,8,"setBadgeCount"],[274,30,181,21,"setBadgeCount"],[274,31,181,21,"_x9"],[274,34,181,21],[275,10,181,21],[275,17,181,21,"_setBadgeCount"],[275,31,181,21],[275,32,181,21,"apply"],[275,37,181,21],[275,44,181,21,"arguments"],[275,53,181,21],[276,8,181,21],[277,8,181,21],[277,15,181,8,"setBadgeCount"],[277,28,181,21],[278,6,181,21],[279,4,181,21],[280,2,181,21],[281,2,186,7],[281,6,186,13,"pushNotificationService"],[281,29,186,36],[281,32,186,39],[281,36,186,43,"PushNotificationService"],[281,59,186,66],[281,60,186,67],[281,61,186,68],[282,2,187,0],[282,6,187,0,"_default"],[282,14,187,0],[282,17,187,15,"pushNotificationService"],[282,40,187,38],[283,0,187,39],[283,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","PushNotificationService","PushNotificationService#registerForPushNotifications","PushNotificationService#sendTokenToBackend","PushNotificationService#scheduleLocalNotification","PushNotificationService#notifyInsight","PushNotificationService#checkAndNotifyInsights","insights.filter$argument_0","criticalInsights.map$argument_0","PushNotificationService#addNotificationReceivedListener","PushNotificationService#addNotificationResponseReceivedListener","PushNotificationService#cancelAllNotifications","PushNotificationService#getBadgeCount","PushNotificationService#setBadgeCount"],"mappings":"AAA;sBCY;IDM;AEG;ECI;GD4C;EEG;GFU;EGG;GHmB;EIG;GJkB;EKG;QCY,4FD;sEEW,gBF;GLM;EQG;GRE;ESE;GTE;EUG;GVG;EWG;GXE;EYG;GZE;CFC"},"hasCjsExports":false},"type":"js/module"}]}