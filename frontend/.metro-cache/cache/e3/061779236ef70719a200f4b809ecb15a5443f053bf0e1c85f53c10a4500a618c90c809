{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":91,"index":91}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":92},"end":{"line":2,"column":31,"index":123}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/InsightsContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useInsights\", {\n    enumerable: true,\n    get: function () {\n      return useInsights;\n    }\n  });\n  Object.defineProperty(exports, \"InsightsProvider\", {\n    enumerable: true,\n    get: function () {\n      return InsightsProvider;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _utilsApi = require(_dependencyMap[3], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  var InsightsContext = /*#__PURE__*/(0, _react.createContext)({\n    insightsCount: 0,\n    criticalCount: 0,\n    lowStockCount: 0,\n    debtCount: 0,\n    refreshInsights: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {});\n      return function refreshInsights() {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    loading: false\n  });\n  var useInsights = () => {\n    _s();\n    return (0, _react.useContext)(InsightsContext);\n  };\n  _s(useInsights, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n  var InsightsProvider = _ref2 => {\n    _s2();\n    var children = _ref2.children;\n    var _useState = (0, _react.useState)(0),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      insightsCount = _useState2[0],\n      setInsightsCount = _useState2[1];\n    var _useState3 = (0, _react.useState)(0),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      criticalCount = _useState4[0],\n      setCriticalCount = _useState4[1];\n    var _useState5 = (0, _react.useState)(0),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      lowStockCount = _useState6[0],\n      setLowStockCount = _useState6[1];\n    var _useState7 = (0, _react.useState)(0),\n      _useState8 = (0, _slicedToArray.default)(_useState7, 2),\n      debtCount = _useState8[0],\n      setDebtCount = _useState8[1];\n    var _useState9 = (0, _react.useState)(false),\n      _useState0 = (0, _slicedToArray.default)(_useState9, 2),\n      loading = _useState0[0],\n      setLoading = _useState0[1];\n    var refreshInsights = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      try {\n        setLoading(true);\n        var response = yield api.default.get('/api/ai/all-insights');\n        var insights = response.data.insights || [];\n\n        // Contar por tipo\n        var critical = 0;\n        var lowStock = 0;\n        var debt = 0;\n        insights.forEach(insight => {\n          if (insight.type === 'critical_stock') {\n            critical++;\n          } else if (insight.type === 'low_stock') {\n            lowStock++;\n          } else if (insight.type === 'overdue_debt') {\n            debt++;\n          }\n        });\n        setCriticalCount(critical);\n        setLowStockCount(lowStock);\n        setDebtCount(debt);\n        setInsightsCount(insights.length);\n      } catch (error) {\n        console.error('Error fetching insights count:', error);\n      } finally {\n        setLoading(false);\n      }\n    }), []);\n\n    // Cargar al montar\n    (0, _react.useEffect)(() => {\n      refreshInsights();\n\n      // Refrescar cada 60 segundos\n      var interval = setInterval(refreshInsights, 60000);\n      return () => clearInterval(interval);\n    }, [refreshInsights]);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(InsightsContext.Provider, {\n      value: {\n        insightsCount,\n        criticalCount,\n        lowStockCount,\n        debtCount,\n        refreshInsights,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }, this);\n  };\n  _s2(InsightsProvider, \"LGrkpCtqO4huDUVHUUBh2npZRxw=\");\n  _c = InsightsProvider;\n  var _c;\n  $RefreshReg$(_c, \"InsightsProvider\");\n});","lineCount":134,"map":[[15,2,22,0,"Object"],[15,8,22,0],[15,9,22,0,"defineProperty"],[15,23,22,0],[15,24,22,0,"exports"],[15,31,22,0],[16,4,22,0,"enumerable"],[16,14,22,0],[17,4,22,0,"get"],[17,7,22,0],[17,18,22,0,"get"],[17,19,22,0],[18,6,22,0],[18,13,22,0,"useInsights"],[18,24,22,0],[19,4,22,0],[20,2,22,0],[21,2,24,0,"Object"],[21,8,24,0],[21,9,24,0,"defineProperty"],[21,23,24,0],[21,24,24,0,"exports"],[21,31,24,0],[22,4,24,0,"enumerable"],[22,14,24,0],[23,4,24,0,"get"],[23,7,24,0],[23,18,24,0,"get"],[23,19,24,0],[24,6,24,0],[24,13,24,0,"InsightsProvider"],[24,29,24,0],[25,4,24,0],[26,2,24,0],[27,2,86,2],[27,6,86,2,"_babelRuntimeHelpersSlicedToArray"],[27,39,86,2],[27,42,86,2,"require"],[27,49,86,2],[27,50,86,2,"_dependencyMap"],[27,64,86,2],[28,2,86,2],[28,6,86,2,"_slicedToArray"],[28,20,86,2],[28,23,86,2,"_interopDefault"],[28,38,86,2],[28,39,86,2,"_babelRuntimeHelpersSlicedToArray"],[28,72,86,2],[29,2,86,2],[29,6,86,2,"_babelRuntimeHelpersAsyncToGenerator"],[29,42,86,2],[29,45,86,2,"require"],[29,52,86,2],[29,53,86,2,"_dependencyMap"],[29,67,86,2],[30,2,86,2],[30,6,86,2,"_asyncToGenerator"],[30,23,86,2],[30,26,86,2,"_interopDefault"],[30,41,86,2],[30,42,86,2,"_babelRuntimeHelpersAsyncToGenerator"],[30,78,86,2],[31,2,1,0],[31,6,1,0,"_react"],[31,12,1,0],[31,15,1,0,"require"],[31,22,1,0],[31,23,1,0,"_dependencyMap"],[31,37,1,0],[32,2,2,0],[32,6,2,0,"_utilsApi"],[32,15,2,0],[32,18,2,0,"require"],[32,25,2,0],[32,26,2,0,"_dependencyMap"],[32,40,2,0],[33,2,2,0],[33,6,2,0,"api"],[33,9,2,0],[33,12,2,0,"_interopDefault"],[33,27,2,0],[33,28,2,0,"_utilsApi"],[33,37,2,0],[34,2,2,31],[34,6,2,31,"_reactJsxDevRuntime"],[34,25,2,31],[34,28,2,31,"require"],[34,35,2,31],[34,36,2,31,"_dependencyMap"],[34,50,2,31],[35,2,13,0],[35,6,13,6,"InsightsContext"],[35,21,13,21],[35,37,13,24],[35,41,13,24,"createContext"],[35,47,13,37],[35,48,13,37,"createContext"],[35,61,13,37],[35,63,13,59],[36,4,14,2,"insightsCount"],[36,17,14,15],[36,19,14,17],[36,20,14,18],[37,4,15,2,"criticalCount"],[37,17,15,15],[37,19,15,17],[37,20,15,18],[38,4,16,2,"lowStockCount"],[38,17,16,15],[38,19,16,17],[38,20,16,18],[39,4,17,2,"debtCount"],[39,13,17,11],[39,15,17,13],[39,16,17,14],[40,4,18,2,"refreshInsights"],[40,19,18,17],[41,6,18,17],[41,10,18,17,"_ref"],[41,14,18,17],[41,21,18,17,"_asyncToGenerator"],[41,38,18,17],[41,39,18,17,"default"],[41,46,18,17],[41,48,18,19],[41,61,18,31],[41,62,18,32],[41,63,18,33],[42,6,18,33],[42,22,18,2,"refreshInsights"],[42,37,18,17,"refreshInsights"],[42,38,18,17],[43,8,18,17],[43,15,18,17,"_ref"],[43,19,18,17],[43,20,18,17,"apply"],[43,25,18,17],[43,32,18,17,"arguments"],[43,41,18,17],[44,6,18,17],[45,4,18,17],[45,7,18,33],[46,4,19,2,"loading"],[46,11,19,9],[46,13,19,11],[47,2,20,0],[47,3,20,1],[47,4,20,2],[48,2,22,7],[48,6,22,13,"useInsights"],[48,17,22,24],[48,20,22,27,"useInsights"],[48,21,22,27],[49,4,22,27,"_s"],[49,6,22,27],[50,4,22,27],[50,11,22,33],[50,15,22,33,"useContext"],[50,21,22,43],[50,22,22,43,"useContext"],[50,32,22,43],[50,34,22,44,"InsightsContext"],[50,49,22,59],[50,50,22,60],[51,2,22,60],[52,2,22,61,"_s"],[52,4,22,61],[52,5,22,13,"useInsights"],[52,16,22,24],[53,2,24,7],[53,6,24,13,"InsightsProvider"],[53,22,24,70],[53,25,24,73,"_ref2"],[53,30,24,73],[53,34,24,91],[54,4,24,91,"_s2"],[54,7,24,91],[55,4,24,91],[55,8,24,76,"children"],[55,16,24,84],[55,19,24,84,"_ref2"],[55,24,24,84],[55,25,24,76,"children"],[55,33,24,84],[56,4,25,2],[56,8,25,2,"_useState"],[56,17,25,2],[56,20,25,44],[56,24,25,44,"useState"],[56,30,25,52],[56,31,25,52,"useState"],[56,39,25,52],[56,41,25,53],[56,42,25,54],[56,43,25,55],[57,6,25,55,"_useState2"],[57,16,25,55],[57,23,25,55,"_slicedToArray"],[57,37,25,55],[57,38,25,55,"default"],[57,45,25,55],[57,47,25,55,"_useState"],[57,56,25,55],[58,6,25,9,"insightsCount"],[58,19,25,22],[58,22,25,22,"_useState2"],[58,32,25,22],[59,6,25,24,"setInsightsCount"],[59,22,25,40],[59,25,25,40,"_useState2"],[59,35,25,40],[60,4,26,2],[60,8,26,2,"_useState3"],[60,18,26,2],[60,21,26,44],[60,25,26,44,"useState"],[60,31,26,52],[60,32,26,52,"useState"],[60,40,26,52],[60,42,26,53],[60,43,26,54],[60,44,26,55],[61,6,26,55,"_useState4"],[61,16,26,55],[61,23,26,55,"_slicedToArray"],[61,37,26,55],[61,38,26,55,"default"],[61,45,26,55],[61,47,26,55,"_useState3"],[61,57,26,55],[62,6,26,9,"criticalCount"],[62,19,26,22],[62,22,26,22,"_useState4"],[62,32,26,22],[63,6,26,24,"setCriticalCount"],[63,22,26,40],[63,25,26,40,"_useState4"],[63,35,26,40],[64,4,27,2],[64,8,27,2,"_useState5"],[64,18,27,2],[64,21,27,44],[64,25,27,44,"useState"],[64,31,27,52],[64,32,27,52,"useState"],[64,40,27,52],[64,42,27,53],[64,43,27,54],[64,44,27,55],[65,6,27,55,"_useState6"],[65,16,27,55],[65,23,27,55,"_slicedToArray"],[65,37,27,55],[65,38,27,55,"default"],[65,45,27,55],[65,47,27,55,"_useState5"],[65,57,27,55],[66,6,27,9,"lowStockCount"],[66,19,27,22],[66,22,27,22,"_useState6"],[66,32,27,22],[67,6,27,24,"setLowStockCount"],[67,22,27,40],[67,25,27,40,"_useState6"],[67,35,27,40],[68,4,28,2],[68,8,28,2,"_useState7"],[68,18,28,2],[68,21,28,36],[68,25,28,36,"useState"],[68,31,28,44],[68,32,28,44,"useState"],[68,40,28,44],[68,42,28,45],[68,43,28,46],[68,44,28,47],[69,6,28,47,"_useState8"],[69,16,28,47],[69,23,28,47,"_slicedToArray"],[69,37,28,47],[69,38,28,47,"default"],[69,45,28,47],[69,47,28,47,"_useState7"],[69,57,28,47],[70,6,28,9,"debtCount"],[70,15,28,18],[70,18,28,18,"_useState8"],[70,28,28,18],[71,6,28,20,"setDebtCount"],[71,18,28,32],[71,21,28,32,"_useState8"],[71,31,28,32],[72,4,29,2],[72,8,29,2,"_useState9"],[72,18,29,2],[72,21,29,32],[72,25,29,32,"useState"],[72,31,29,40],[72,32,29,40,"useState"],[72,40,29,40],[72,42,29,41],[72,47,29,46],[72,48,29,47],[73,6,29,47,"_useState0"],[73,16,29,47],[73,23,29,47,"_slicedToArray"],[73,37,29,47],[73,38,29,47,"default"],[73,45,29,47],[73,47,29,47,"_useState9"],[73,57,29,47],[74,6,29,9,"loading"],[74,13,29,16],[74,16,29,16,"_useState0"],[74,26,29,16],[75,6,29,18,"setLoading"],[75,16,29,28],[75,19,29,28,"_useState0"],[75,29,29,28],[76,4,31,2],[76,8,31,8,"refreshInsights"],[76,23,31,23],[76,26,31,26],[76,30,31,26,"useCallback"],[76,36,31,37],[76,37,31,37,"useCallback"],[76,48,31,37],[76,67,31,37,"_asyncToGenerator"],[76,84,31,37],[76,85,31,37,"default"],[76,92,31,37],[76,94,31,38],[76,107,31,50],[77,6,32,4],[77,10,32,8],[78,8,33,6,"setLoading"],[78,18,33,16],[78,19,33,17],[78,23,33,21],[78,24,33,22],[79,8,34,6],[79,12,34,12,"response"],[79,20,34,20],[79,29,34,29,"api"],[79,32,34,32],[79,33,34,32,"default"],[79,40,34,32],[79,41,34,33,"get"],[79,44,34,36],[79,45,34,37],[79,67,34,59],[79,68,34,60],[80,8,35,6],[80,12,35,12,"insights"],[80,20,35,20],[80,23,35,23,"response"],[80,31,35,31],[80,32,35,32,"data"],[80,36,35,36],[80,37,35,37,"insights"],[80,45,35,45],[80,49,35,49],[80,51,35,51],[82,8,37,6],[83,8,38,6],[83,12,38,10,"critical"],[83,20,38,18],[83,23,38,21],[83,24,38,22],[84,8,39,6],[84,12,39,10,"lowStock"],[84,20,39,18],[84,23,39,21],[84,24,39,22],[85,8,40,6],[85,12,40,10,"debt"],[85,16,40,14],[85,19,40,17],[85,20,40,18],[86,8,42,6,"insights"],[86,16,42,14],[86,17,42,15,"forEach"],[86,24,42,22],[86,25,42,24,"insight"],[86,32,42,36],[86,36,42,41],[87,10,43,8],[87,14,43,12,"insight"],[87,21,43,19],[87,22,43,20,"type"],[87,26,43,24],[87,31,43,29],[87,47,43,45],[87,49,43,47],[88,12,44,10,"critical"],[88,20,44,18],[88,22,44,20],[89,10,45,8],[89,11,45,9],[89,17,45,15],[89,21,45,19,"insight"],[89,28,45,26],[89,29,45,27,"type"],[89,33,45,31],[89,38,45,36],[89,49,45,47],[89,51,45,49],[90,12,46,10,"lowStock"],[90,20,46,18],[90,22,46,20],[91,10,47,8],[91,11,47,9],[91,17,47,15],[91,21,47,19,"insight"],[91,28,47,26],[91,29,47,27,"type"],[91,33,47,31],[91,38,47,36],[91,52,47,50],[91,54,47,52],[92,12,48,10,"debt"],[92,16,48,14],[92,18,48,16],[93,10,49,8],[94,8,50,6],[94,9,50,7],[94,10,50,8],[95,8,52,6,"setCriticalCount"],[95,24,52,22],[95,25,52,23,"critical"],[95,33,52,31],[95,34,52,32],[96,8,53,6,"setLowStockCount"],[96,24,53,22],[96,25,53,23,"lowStock"],[96,33,53,31],[96,34,53,32],[97,8,54,6,"setDebtCount"],[97,20,54,18],[97,21,54,19,"debt"],[97,25,54,23],[97,26,54,24],[98,8,55,6,"setInsightsCount"],[98,24,55,22],[98,25,55,23,"insights"],[98,33,55,31],[98,34,55,32,"length"],[98,40,55,38],[98,41,55,39],[99,6,56,4],[99,7,56,5],[99,8,56,6],[99,15,56,13,"error"],[99,20,56,18],[99,22,56,20],[100,8,57,6,"console"],[100,15,57,13],[100,16,57,14,"error"],[100,21,57,19],[100,22,57,20],[100,54,57,52],[100,56,57,54,"error"],[100,61,57,59],[100,62,57,60],[101,6,58,4],[101,7,58,5],[101,16,58,14],[102,8,59,6,"setLoading"],[102,18,59,16],[102,19,59,17],[102,24,59,22],[102,25,59,23],[103,6,60,4],[104,4,61,2],[104,5,61,3],[104,8,61,5],[104,10,61,7],[104,11,61,8],[106,4,63,2],[107,4,64,2],[107,8,64,2,"useEffect"],[107,14,64,11],[107,15,64,11,"useEffect"],[107,24,64,11],[107,26,64,12],[107,32,64,18],[108,6,65,4,"refreshInsights"],[108,21,65,19],[108,22,65,20],[108,23,65,21],[110,6,67,4],[111,6,68,4],[111,10,68,10,"interval"],[111,18,68,18],[111,21,68,21,"setInterval"],[111,32,68,32],[111,33,68,33,"refreshInsights"],[111,48,68,48],[111,50,68,50],[111,55,68,55],[111,56,68,56],[112,6,69,4],[112,13,69,11],[112,19,69,17,"clearInterval"],[112,32,69,30],[112,33,69,31,"interval"],[112,41,69,39],[112,42,69,40],[113,4,70,2],[113,5,70,3],[113,7,70,5],[113,8,70,6,"refreshInsights"],[113,23,70,21],[113,24,70,22],[113,25,70,23],[114,4,72,2],[114,24,73,4],[114,28,73,4,"_reactJsxDevRuntime"],[114,47,73,4],[114,48,73,4,"jsxDEV"],[114,54,73,4],[114,56,73,5,"InsightsContext"],[114,71,73,20],[114,72,73,21,"Provider"],[114,80,73,29],[115,6,74,6,"value"],[115,11,74,11],[115,13,74,13],[116,8,75,8,"insightsCount"],[116,21,75,21],[117,8,76,8,"criticalCount"],[117,21,76,21],[118,8,77,8,"lowStockCount"],[118,21,77,21],[119,8,78,8,"debtCount"],[119,17,78,17],[120,8,79,8,"refreshInsights"],[120,23,79,23],[121,8,80,8,"loading"],[122,6,81,6],[122,7,81,8],[123,6,81,8,"children"],[123,14,81,8],[123,16,83,7,"children"],[124,4,83,15],[125,6,83,15,"fileName"],[125,14,83,15],[125,16,83,15,"_jsxFileName"],[125,28,83,15],[126,6,83,15,"lineNumber"],[126,16,83,15],[127,6,83,15,"columnNumber"],[127,18,83,15],[128,4,83,15],[128,11,84,30],[128,12,84,31],[129,2,86,0],[129,3,86,1],[130,2,86,2,"_s2"],[130,5,86,2],[130,6,24,13,"InsightsProvider"],[130,22,24,70],[131,2,24,70,"_c"],[131,4,24,70],[131,7,24,13,"InsightsProvider"],[131,23,24,70],[132,2,24,70],[132,6,24,70,"_c"],[132,8,24,70],[133,2,24,70,"$RefreshReg$"],[133,14,24,70],[133,15,24,70,"_c"],[133,17,24,70],[134,0,24,70],[134,3]],"functionMap":{"names":["<global>","createContext$argument_0.refreshInsights","useInsights","InsightsProvider","refreshInsights","insights.forEach$argument_0","useEffect$argument_0","<anonymous>"],"mappings":"AAA;mBCiB,cD;2BEI,iCF;yEGE;sCCO;uBCW;ODQ;GDW;YGG;WCK,6BD;GHC;CHgB"},"hasCjsExports":false},"type":"js/module"}]}