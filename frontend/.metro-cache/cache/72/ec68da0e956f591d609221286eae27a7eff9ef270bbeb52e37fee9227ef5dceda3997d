{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":31,"index":180}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredUser();\n    }, []);\n    async function loadStoredUser() {\n      try {\n        const storedUser = await AsyncStorage.default.getItem('user');\n        const storedToken = await AsyncStorage.default.getItem('token');\n        if (storedUser && storedToken) {\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.log('Error loading user:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    async function signIn(email, password) {\n      try {\n        const response = await api.default.post('/api/auth/login', {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Error al iniciar sesi√≥n');\n      }\n    }\n    async function signUp(email, password, storeName, whatsappNumber) {\n      try {\n        const response = await api.default.post('/api/auth/register', {\n          email,\n          password,\n          store_name: storeName,\n          whatsapp_number: whatsappNumber\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Error al registrarse');\n      }\n    }\n    async function signOut() {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setUser(null);\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        signIn,\n        signUp,\n        signOut\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":120,"map":[[15,2,22,0,"Object"],[15,8,22,0],[15,9,22,0,"defineProperty"],[15,23,22,0],[15,24,22,0,"exports"],[15,31,22,0],[16,4,22,0,"enumerable"],[16,14,22,0],[17,4,22,0,"get"],[17,7,22,0],[17,18,22,0,"get"],[17,19,22,0],[18,6,22,0],[18,13,22,0,"AuthProvider"],[18,25,22,0],[19,4,22,0],[20,2,22,0],[21,2,91,0,"exports"],[21,9,91,0],[21,10,91,0,"useAuth"],[21,17,91,0],[21,20,91,0,"useAuth"],[21,27,91,0],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[23,42,2,0],[23,45,2,0,"require"],[23,52,2,0],[23,53,2,0,"_dependencyMap"],[23,67,2,0],[24,2,2,0],[24,6,2,0,"AsyncStorage"],[24,18,2,0],[24,21,2,0,"_interopDefault"],[24,36,2,0],[24,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[24,73,2,0],[25,2,3,0],[25,6,3,0,"_utilsApi"],[25,15,3,0],[25,18,3,0,"require"],[25,25,3,0],[25,26,3,0,"_dependencyMap"],[25,40,3,0],[26,2,3,0],[26,6,3,0,"api"],[26,9,3,0],[26,12,3,0,"_interopDefault"],[26,27,3,0],[26,28,3,0,"_utilsApi"],[26,37,3,0],[27,2,3,31],[27,6,3,31,"_reactJsxDevRuntime"],[27,25,3,31],[27,28,3,31,"require"],[27,35,3,31],[27,36,3,31,"_dependencyMap"],[27,50,3,31],[28,2,20,0],[28,8,20,6,"AuthContext"],[28,19,20,17],[28,35,20,20],[28,39,20,20,"createContext"],[28,45,20,33],[28,46,20,33,"createContext"],[28,59,20,33],[28,61,20,51],[28,62,20,52],[28,63,20,72],[28,64,20,73],[29,2,22,7],[29,8,22,13,"AuthProvider"],[29,20,22,66],[29,23,22,69,"AuthProvider"],[29,24,22,70],[30,4,22,72,"children"],[31,2,22,81],[31,3,22,82],[31,8,22,87],[32,4,22,87,"_s"],[32,6,22,87],[33,4,23,2],[33,10,23,8],[33,11,23,9,"user"],[33,15,23,13],[33,17,23,15,"setUser"],[33,24,23,22],[33,25,23,23],[33,28,23,26],[33,32,23,26,"useState"],[33,38,23,34],[33,39,23,34,"useState"],[33,47,23,34],[33,49,23,48],[33,53,23,52],[33,54,23,53],[34,4,24,2],[34,10,24,8],[34,11,24,9,"loading"],[34,18,24,16],[34,20,24,18,"setLoading"],[34,30,24,28],[34,31,24,29],[34,34,24,32],[34,38,24,32,"useState"],[34,44,24,40],[34,45,24,40,"useState"],[34,53,24,40],[34,55,24,41],[34,59,24,45],[34,60,24,46],[35,4,26,2],[35,8,26,2,"useEffect"],[35,14,26,11],[35,15,26,11,"useEffect"],[35,24,26,11],[35,26,26,12],[35,32,26,18],[36,6,27,4,"loadStoredUser"],[36,20,27,18],[36,21,27,19],[36,22,27,20],[37,4,28,2],[37,5,28,3],[37,7,28,5],[37,9,28,7],[37,10,28,8],[38,4,30,2],[38,19,30,17,"loadStoredUser"],[38,33,30,31,"loadStoredUser"],[38,34,30,31],[38,36,30,34],[39,6,31,4],[39,10,31,8],[40,8,32,6],[40,14,32,12,"storedUser"],[40,24,32,22],[40,27,32,25],[40,33,32,31,"AsyncStorage"],[40,45,32,43],[40,46,32,43,"default"],[40,53,32,43],[40,54,32,44,"getItem"],[40,61,32,51],[40,62,32,52],[40,68,32,58],[40,69,32,59],[41,8,33,6],[41,14,33,12,"storedToken"],[41,25,33,23],[41,28,33,26],[41,34,33,32,"AsyncStorage"],[41,46,33,44],[41,47,33,44,"default"],[41,54,33,44],[41,55,33,45,"getItem"],[41,62,33,52],[41,63,33,53],[41,70,33,60],[41,71,33,61],[42,8,35,6],[42,12,35,10,"storedUser"],[42,22,35,20],[42,26,35,24,"storedToken"],[42,37,35,35],[42,39,35,37],[43,10,36,8,"setUser"],[43,17,36,15],[43,18,36,16,"JSON"],[43,22,36,20],[43,23,36,21,"parse"],[43,28,36,26],[43,29,36,27,"storedUser"],[43,39,36,37],[43,40,36,38],[43,41,36,39],[44,8,37,6],[45,6,38,4],[45,7,38,5],[45,8,38,6],[45,15,38,13,"error"],[45,20,38,18],[45,22,38,20],[46,8,39,6,"console"],[46,15,39,13],[46,16,39,14,"log"],[46,19,39,17],[46,20,39,18],[46,41,39,39],[46,43,39,41,"error"],[46,48,39,46],[46,49,39,47],[47,6,40,4],[47,7,40,5],[47,16,40,14],[48,8,41,6,"setLoading"],[48,18,41,16],[48,19,41,17],[48,24,41,22],[48,25,41,23],[49,6,42,4],[50,4,43,2],[51,4,45,2],[51,19,45,17,"signIn"],[51,25,45,23,"signIn"],[51,26,45,24,"email"],[51,31,45,37],[51,33,45,39,"password"],[51,41,45,55],[51,43,45,57],[52,6,46,4],[52,10,46,8],[53,8,47,6],[53,14,47,12,"response"],[53,22,47,20],[53,25,47,23],[53,31,47,29,"api"],[53,34,47,32],[53,35,47,32,"default"],[53,42,47,32],[53,43,47,33,"post"],[53,47,47,37],[53,48,47,38],[53,65,47,55],[53,67,47,57],[54,10,47,59,"email"],[54,15,47,64],[55,10,47,66,"password"],[56,8,47,75],[56,9,47,76],[56,10,47,77],[57,8,48,6],[57,14,48,12],[58,10,48,14,"access_token"],[58,22,48,26],[59,10,48,28,"user"],[59,14,48,32],[59,16,48,34,"userData"],[60,8,48,43],[60,9,48,44],[60,12,48,47,"response"],[60,20,48,55],[60,21,48,56,"data"],[60,25,48,60],[61,8,50,6],[61,14,50,12,"AsyncStorage"],[61,26,50,24],[61,27,50,24,"default"],[61,34,50,24],[61,35,50,25,"setItem"],[61,42,50,32],[61,43,50,33],[61,50,50,40],[61,52,50,42,"access_token"],[61,64,50,54],[61,65,50,55],[62,8,51,6],[62,14,51,12,"AsyncStorage"],[62,26,51,24],[62,27,51,24,"default"],[62,34,51,24],[62,35,51,25,"setItem"],[62,42,51,32],[62,43,51,33],[62,49,51,39],[62,51,51,41,"JSON"],[62,55,51,45],[62,56,51,46,"stringify"],[62,65,51,55],[62,66,51,56,"userData"],[62,74,51,64],[62,75,51,65],[62,76,51,66],[63,8,53,6,"setUser"],[63,15,53,13],[63,16,53,14,"userData"],[63,24,53,22],[63,25,53,23],[64,6,54,4],[64,7,54,5],[64,8,54,6],[64,15,54,13,"error"],[64,20,54,23],[64,22,54,25],[65,8,55,6],[65,14,55,12],[65,18,55,16,"Error"],[65,23,55,21],[65,24,55,22,"error"],[65,29,55,27],[65,30,55,28,"response"],[65,38,55,36],[65,40,55,38,"data"],[65,44,55,42],[65,46,55,44,"detail"],[65,52,55,50],[65,56,55,54],[65,81,55,79],[65,82,55,80],[66,6,56,4],[67,4,57,2],[68,4,59,2],[68,19,59,17,"signUp"],[68,25,59,23,"signUp"],[68,26,59,24,"email"],[68,31,59,37],[68,33,59,39,"password"],[68,41,59,55],[68,43,59,57,"storeName"],[68,52,59,74],[68,54,59,76,"whatsappNumber"],[68,68,59,98],[68,70,59,100],[69,6,60,4],[69,10,60,8],[70,8,61,6],[70,14,61,12,"response"],[70,22,61,20],[70,25,61,23],[70,31,61,29,"api"],[70,34,61,32],[70,35,61,32,"default"],[70,42,61,32],[70,43,61,33,"post"],[70,47,61,37],[70,48,61,38],[70,68,61,58],[70,70,61,60],[71,10,62,8,"email"],[71,15,62,13],[72,10,63,8,"password"],[72,18,63,16],[73,10,64,8,"store_name"],[73,20,64,18],[73,22,64,20,"storeName"],[73,31,64,29],[74,10,65,8,"whatsapp_number"],[74,25,65,23],[74,27,65,25,"whatsappNumber"],[75,8,66,6],[75,9,66,7],[75,10,66,8],[76,8,67,6],[76,14,67,12],[77,10,67,14,"access_token"],[77,22,67,26],[78,10,67,28,"user"],[78,14,67,32],[78,16,67,34,"userData"],[79,8,67,43],[79,9,67,44],[79,12,67,47,"response"],[79,20,67,55],[79,21,67,56,"data"],[79,25,67,60],[80,8,69,6],[80,14,69,12,"AsyncStorage"],[80,26,69,24],[80,27,69,24,"default"],[80,34,69,24],[80,35,69,25,"setItem"],[80,42,69,32],[80,43,69,33],[80,50,69,40],[80,52,69,42,"access_token"],[80,64,69,54],[80,65,69,55],[81,8,70,6],[81,14,70,12,"AsyncStorage"],[81,26,70,24],[81,27,70,24,"default"],[81,34,70,24],[81,35,70,25,"setItem"],[81,42,70,32],[81,43,70,33],[81,49,70,39],[81,51,70,41,"JSON"],[81,55,70,45],[81,56,70,46,"stringify"],[81,65,70,55],[81,66,70,56,"userData"],[81,74,70,64],[81,75,70,65],[81,76,70,66],[82,8,72,6,"setUser"],[82,15,72,13],[82,16,72,14,"userData"],[82,24,72,22],[82,25,72,23],[83,6,73,4],[83,7,73,5],[83,8,73,6],[83,15,73,13,"error"],[83,20,73,23],[83,22,73,25],[84,8,74,6],[84,14,74,12],[84,18,74,16,"Error"],[84,23,74,21],[84,24,74,22,"error"],[84,29,74,27],[84,30,74,28,"response"],[84,38,74,36],[84,40,74,38,"data"],[84,44,74,42],[84,46,74,44,"detail"],[84,52,74,50],[84,56,74,54],[84,78,74,76],[84,79,74,77],[85,6,75,4],[86,4,76,2],[87,4,78,2],[87,19,78,17,"signOut"],[87,26,78,24,"signOut"],[87,27,78,24],[87,29,78,27],[88,6,79,4],[88,12,79,10,"AsyncStorage"],[88,24,79,22],[88,25,79,22,"default"],[88,32,79,22],[88,33,79,23,"removeItem"],[88,43,79,33],[88,44,79,34],[88,51,79,41],[88,52,79,42],[89,6,80,4],[89,12,80,10,"AsyncStorage"],[89,24,80,22],[89,25,80,22,"default"],[89,32,80,22],[89,33,80,23,"removeItem"],[89,43,80,33],[89,44,80,34],[89,50,80,40],[89,51,80,41],[90,6,81,4,"setUser"],[90,13,81,11],[90,14,81,12],[90,18,81,16],[90,19,81,17],[91,4,82,2],[92,4,84,2],[92,24,85,4],[92,28,85,4,"_reactJsxDevRuntime"],[92,47,85,4],[92,48,85,4,"jsxDEV"],[92,54,85,4],[92,56,85,5,"AuthContext"],[92,67,85,16],[92,68,85,17,"Provider"],[92,76,85,25],[93,6,85,26,"value"],[93,11,85,31],[93,13,85,33],[94,8,85,35,"user"],[94,12,85,39],[95,8,85,41,"loading"],[95,15,85,48],[96,8,85,50,"signIn"],[96,14,85,56],[97,8,85,58,"signUp"],[97,14,85,64],[98,8,85,66,"signOut"],[99,6,85,74],[99,7,85,76],[100,6,85,76,"children"],[100,14,85,76],[100,16,86,7,"children"],[101,4,86,15],[102,6,86,15,"fileName"],[102,14,86,15],[102,16,86,15,"_jsxFileName"],[102,28,86,15],[103,6,86,15,"lineNumber"],[103,16,86,15],[104,6,86,15,"columnNumber"],[104,18,86,15],[105,4,86,15],[105,11,87,26],[105,12,87,27],[106,2,89,0],[106,3,89,1],[107,2,89,2,"_s"],[107,4,89,2],[107,5,22,13,"AuthProvider"],[107,17,22,66],[108,2,22,66,"_c"],[108,4,22,66],[108,7,22,13,"AuthProvider"],[108,19,22,66],[109,2,91,7],[109,11,91,16,"useAuth"],[109,18,91,23,"useAuth"],[109,19,91,23],[109,21,91,26],[110,4,91,26,"_s2"],[110,7,91,26],[111,4,92,2],[111,10,92,8,"context"],[111,17,92,15],[111,20,92,18],[111,24,92,18,"useContext"],[111,30,92,28],[111,31,92,28,"useContext"],[111,41,92,28],[111,43,92,29,"AuthContext"],[111,54,92,40],[111,55,92,41],[112,4,93,2],[112,8,93,6],[112,9,93,7,"context"],[112,16,93,14],[112,18,93,16],[113,6,94,4],[113,12,94,10],[113,16,94,14,"Error"],[113,21,94,19],[113,22,94,20],[113,67,94,65],[113,68,94,66],[114,4,95,2],[115,4,96,2],[115,11,96,9,"context"],[115,18,96,16],[116,2,97,0],[117,2,97,1,"_s2"],[117,5,97,1],[117,6,91,16,"useAuth"],[117,13,91,23],[118,2,91,23],[118,6,91,23,"_c"],[118,8,91,23],[119,2,91,23,"$RefreshReg$"],[119,14,91,23],[119,15,91,23,"_c"],[119,17,91,23],[120,0,91,23],[120,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredUser","signIn","signUp","signOut","useAuth"],"mappings":"AAA;qECqB;YCI;GDE;EEE;GFa;EGE;GHY;EIE;GJiB;EKE;GLI;CDO;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}