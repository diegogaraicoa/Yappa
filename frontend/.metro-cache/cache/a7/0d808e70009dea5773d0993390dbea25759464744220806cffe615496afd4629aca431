{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":31,"index":180}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredUser();\n    }, []);\n    async function loadStoredUser() {\n      try {\n        const storedUser = await AsyncStorage.default.getItem('user');\n        const storedToken = await AsyncStorage.default.getItem('token');\n        if (storedUser && storedToken) {\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.log('Error loading user:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    async function signIn(email, password) {\n      try {\n        const response = await api.default.post('/api/auth/login', {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Error al iniciar sesi\\u00f3n');\n      }\n    }\n    async function signUp(email, password, storeName) {\n      try {\n        const response = await api.default.post('/api/auth/register', {\n          email,\n          password,\n          store_name: storeName\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Error al registrarse');\n      }\n    }\n    async function signOut() {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setUser(null);\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        signIn,\n        signUp,\n        signOut\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":119,"map":[[15,2,22,0,"Object"],[15,8,22,0],[15,9,22,0,"defineProperty"],[15,23,22,0],[15,24,22,0,"exports"],[15,31,22,0],[16,4,22,0,"enumerable"],[16,14,22,0],[17,4,22,0,"get"],[17,7,22,0],[17,18,22,0,"get"],[17,19,22,0],[18,6,22,0],[18,13,22,0,"AuthProvider"],[18,25,22,0],[19,4,22,0],[20,2,22,0],[21,2,90,0,"exports"],[21,9,90,0],[21,10,90,0,"useAuth"],[21,17,90,0],[21,20,90,0,"useAuth"],[21,27,90,0],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[23,42,2,0],[23,45,2,0,"require"],[23,52,2,0],[23,53,2,0,"_dependencyMap"],[23,67,2,0],[24,2,2,0],[24,6,2,0,"AsyncStorage"],[24,18,2,0],[24,21,2,0,"_interopDefault"],[24,36,2,0],[24,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[24,73,2,0],[25,2,3,0],[25,6,3,0,"_utilsApi"],[25,15,3,0],[25,18,3,0,"require"],[25,25,3,0],[25,26,3,0,"_dependencyMap"],[25,40,3,0],[26,2,3,0],[26,6,3,0,"api"],[26,9,3,0],[26,12,3,0,"_interopDefault"],[26,27,3,0],[26,28,3,0,"_utilsApi"],[26,37,3,0],[27,2,3,31],[27,6,3,31,"_reactJsxDevRuntime"],[27,25,3,31],[27,28,3,31,"require"],[27,35,3,31],[27,36,3,31,"_dependencyMap"],[27,50,3,31],[28,2,20,0],[28,8,20,6,"AuthContext"],[28,19,20,17],[28,35,20,20],[28,39,20,20,"createContext"],[28,45,20,33],[28,46,20,33,"createContext"],[28,59,20,33],[28,61,20,51],[28,62,20,52],[28,63,20,72],[28,64,20,73],[29,2,22,7],[29,8,22,13,"AuthProvider"],[29,20,22,66],[29,23,22,69,"AuthProvider"],[29,24,22,70],[30,4,22,72,"children"],[31,2,22,81],[31,3,22,82],[31,8,22,87],[32,4,22,87,"_s"],[32,6,22,87],[33,4,23,2],[33,10,23,8],[33,11,23,9,"user"],[33,15,23,13],[33,17,23,15,"setUser"],[33,24,23,22],[33,25,23,23],[33,28,23,26],[33,32,23,26,"useState"],[33,38,23,34],[33,39,23,34,"useState"],[33,47,23,34],[33,49,23,48],[33,53,23,52],[33,54,23,53],[34,4,24,2],[34,10,24,8],[34,11,24,9,"loading"],[34,18,24,16],[34,20,24,18,"setLoading"],[34,30,24,28],[34,31,24,29],[34,34,24,32],[34,38,24,32,"useState"],[34,44,24,40],[34,45,24,40,"useState"],[34,53,24,40],[34,55,24,41],[34,59,24,45],[34,60,24,46],[35,4,26,2],[35,8,26,2,"useEffect"],[35,14,26,11],[35,15,26,11,"useEffect"],[35,24,26,11],[35,26,26,12],[35,32,26,18],[36,6,27,4,"loadStoredUser"],[36,20,27,18],[36,21,27,19],[36,22,27,20],[37,4,28,2],[37,5,28,3],[37,7,28,5],[37,9,28,7],[37,10,28,8],[38,4,30,2],[38,19,30,17,"loadStoredUser"],[38,33,30,31,"loadStoredUser"],[38,34,30,31],[38,36,30,34],[39,6,31,4],[39,10,31,8],[40,8,32,6],[40,14,32,12,"storedUser"],[40,24,32,22],[40,27,32,25],[40,33,32,31,"AsyncStorage"],[40,45,32,43],[40,46,32,43,"default"],[40,53,32,43],[40,54,32,44,"getItem"],[40,61,32,51],[40,62,32,52],[40,68,32,58],[40,69,32,59],[41,8,33,6],[41,14,33,12,"storedToken"],[41,25,33,23],[41,28,33,26],[41,34,33,32,"AsyncStorage"],[41,46,33,44],[41,47,33,44,"default"],[41,54,33,44],[41,55,33,45,"getItem"],[41,62,33,52],[41,63,33,53],[41,70,33,60],[41,71,33,61],[42,8,35,6],[42,12,35,10,"storedUser"],[42,22,35,20],[42,26,35,24,"storedToken"],[42,37,35,35],[42,39,35,37],[43,10,36,8,"setUser"],[43,17,36,15],[43,18,36,16,"JSON"],[43,22,36,20],[43,23,36,21,"parse"],[43,28,36,26],[43,29,36,27,"storedUser"],[43,39,36,37],[43,40,36,38],[43,41,36,39],[44,8,37,6],[45,6,38,4],[45,7,38,5],[45,8,38,6],[45,15,38,13,"error"],[45,20,38,18],[45,22,38,20],[46,8,39,6,"console"],[46,15,39,13],[46,16,39,14,"log"],[46,19,39,17],[46,20,39,18],[46,41,39,39],[46,43,39,41,"error"],[46,48,39,46],[46,49,39,47],[47,6,40,4],[47,7,40,5],[47,16,40,14],[48,8,41,6,"setLoading"],[48,18,41,16],[48,19,41,17],[48,24,41,22],[48,25,41,23],[49,6,42,4],[50,4,43,2],[51,4,45,2],[51,19,45,17,"signIn"],[51,25,45,23,"signIn"],[51,26,45,24,"email"],[51,31,45,37],[51,33,45,39,"password"],[51,41,45,55],[51,43,45,57],[52,6,46,4],[52,10,46,8],[53,8,47,6],[53,14,47,12,"response"],[53,22,47,20],[53,25,47,23],[53,31,47,29,"api"],[53,34,47,32],[53,35,47,32,"default"],[53,42,47,32],[53,43,47,33,"post"],[53,47,47,37],[53,48,47,38],[53,65,47,55],[53,67,47,57],[54,10,47,59,"email"],[54,15,47,64],[55,10,47,66,"password"],[56,8,47,75],[56,9,47,76],[56,10,47,77],[57,8,48,6],[57,14,48,12],[58,10,48,14,"access_token"],[58,22,48,26],[59,10,48,28,"user"],[59,14,48,32],[59,16,48,34,"userData"],[60,8,48,43],[60,9,48,44],[60,12,48,47,"response"],[60,20,48,55],[60,21,48,56,"data"],[60,25,48,60],[61,8,50,6],[61,14,50,12,"AsyncStorage"],[61,26,50,24],[61,27,50,24,"default"],[61,34,50,24],[61,35,50,25,"setItem"],[61,42,50,32],[61,43,50,33],[61,50,50,40],[61,52,50,42,"access_token"],[61,64,50,54],[61,65,50,55],[62,8,51,6],[62,14,51,12,"AsyncStorage"],[62,26,51,24],[62,27,51,24,"default"],[62,34,51,24],[62,35,51,25,"setItem"],[62,42,51,32],[62,43,51,33],[62,49,51,39],[62,51,51,41,"JSON"],[62,55,51,45],[62,56,51,46,"stringify"],[62,65,51,55],[62,66,51,56,"userData"],[62,74,51,64],[62,75,51,65],[62,76,51,66],[63,8,53,6,"setUser"],[63,15,53,13],[63,16,53,14,"userData"],[63,24,53,22],[63,25,53,23],[64,6,54,4],[64,7,54,5],[64,8,54,6],[64,15,54,13,"error"],[64,20,54,23],[64,22,54,25],[65,8,55,6],[65,14,55,12],[65,18,55,16,"Error"],[65,23,55,21],[65,24,55,22,"error"],[65,29,55,27],[65,30,55,28,"response"],[65,38,55,36],[65,40,55,38,"data"],[65,44,55,42],[65,46,55,44,"detail"],[65,52,55,50],[65,56,55,54],[65,86,55,84],[65,87,55,85],[66,6,56,4],[67,4,57,2],[68,4,59,2],[68,19,59,17,"signUp"],[68,25,59,23,"signUp"],[68,26,59,24,"email"],[68,31,59,37],[68,33,59,39,"password"],[68,41,59,55],[68,43,59,57,"storeName"],[68,52,59,74],[68,54,59,76],[69,6,60,4],[69,10,60,8],[70,8,61,6],[70,14,61,12,"response"],[70,22,61,20],[70,25,61,23],[70,31,61,29,"api"],[70,34,61,32],[70,35,61,32,"default"],[70,42,61,32],[70,43,61,33,"post"],[70,47,61,37],[70,48,61,38],[70,68,61,58],[70,70,61,60],[71,10,62,8,"email"],[71,15,62,13],[72,10,63,8,"password"],[72,18,63,16],[73,10,64,8,"store_name"],[73,20,64,18],[73,22,64,20,"storeName"],[74,8,65,6],[74,9,65,7],[74,10,65,8],[75,8,66,6],[75,14,66,12],[76,10,66,14,"access_token"],[76,22,66,26],[77,10,66,28,"user"],[77,14,66,32],[77,16,66,34,"userData"],[78,8,66,43],[78,9,66,44],[78,12,66,47,"response"],[78,20,66,55],[78,21,66,56,"data"],[78,25,66,60],[79,8,68,6],[79,14,68,12,"AsyncStorage"],[79,26,68,24],[79,27,68,24,"default"],[79,34,68,24],[79,35,68,25,"setItem"],[79,42,68,32],[79,43,68,33],[79,50,68,40],[79,52,68,42,"access_token"],[79,64,68,54],[79,65,68,55],[80,8,69,6],[80,14,69,12,"AsyncStorage"],[80,26,69,24],[80,27,69,24,"default"],[80,34,69,24],[80,35,69,25,"setItem"],[80,42,69,32],[80,43,69,33],[80,49,69,39],[80,51,69,41,"JSON"],[80,55,69,45],[80,56,69,46,"stringify"],[80,65,69,55],[80,66,69,56,"userData"],[80,74,69,64],[80,75,69,65],[80,76,69,66],[81,8,71,6,"setUser"],[81,15,71,13],[81,16,71,14,"userData"],[81,24,71,22],[81,25,71,23],[82,6,72,4],[82,7,72,5],[82,8,72,6],[82,15,72,13,"error"],[82,20,72,23],[82,22,72,25],[83,8,73,6],[83,14,73,12],[83,18,73,16,"Error"],[83,23,73,21],[83,24,73,22,"error"],[83,29,73,27],[83,30,73,28,"response"],[83,38,73,36],[83,40,73,38,"data"],[83,44,73,42],[83,46,73,44,"detail"],[83,52,73,50],[83,56,73,54],[83,78,73,76],[83,79,73,77],[84,6,74,4],[85,4,75,2],[86,4,77,2],[86,19,77,17,"signOut"],[86,26,77,24,"signOut"],[86,27,77,24],[86,29,77,27],[87,6,78,4],[87,12,78,10,"AsyncStorage"],[87,24,78,22],[87,25,78,22,"default"],[87,32,78,22],[87,33,78,23,"removeItem"],[87,43,78,33],[87,44,78,34],[87,51,78,41],[87,52,78,42],[88,6,79,4],[88,12,79,10,"AsyncStorage"],[88,24,79,22],[88,25,79,22,"default"],[88,32,79,22],[88,33,79,23,"removeItem"],[88,43,79,33],[88,44,79,34],[88,50,79,40],[88,51,79,41],[89,6,80,4,"setUser"],[89,13,80,11],[89,14,80,12],[89,18,80,16],[89,19,80,17],[90,4,81,2],[91,4,83,2],[91,24,84,4],[91,28,84,4,"_reactJsxDevRuntime"],[91,47,84,4],[91,48,84,4,"jsxDEV"],[91,54,84,4],[91,56,84,5,"AuthContext"],[91,67,84,16],[91,68,84,17,"Provider"],[91,76,84,25],[92,6,84,26,"value"],[92,11,84,31],[92,13,84,33],[93,8,84,35,"user"],[93,12,84,39],[94,8,84,41,"loading"],[94,15,84,48],[95,8,84,50,"signIn"],[95,14,84,56],[96,8,84,58,"signUp"],[96,14,84,64],[97,8,84,66,"signOut"],[98,6,84,74],[98,7,84,76],[99,6,84,76,"children"],[99,14,84,76],[99,16,85,7,"children"],[100,4,85,15],[101,6,85,15,"fileName"],[101,14,85,15],[101,16,85,15,"_jsxFileName"],[101,28,85,15],[102,6,85,15,"lineNumber"],[102,16,85,15],[103,6,85,15,"columnNumber"],[103,18,85,15],[104,4,85,15],[104,11,86,26],[104,12,86,27],[105,2,88,0],[105,3,88,1],[106,2,88,2,"_s"],[106,4,88,2],[106,5,22,13,"AuthProvider"],[106,17,22,66],[107,2,22,66,"_c"],[107,4,22,66],[107,7,22,13,"AuthProvider"],[107,19,22,66],[108,2,90,7],[108,11,90,16,"useAuth"],[108,18,90,23,"useAuth"],[108,19,90,23],[108,21,90,26],[109,4,90,26,"_s2"],[109,7,90,26],[110,4,91,2],[110,10,91,8,"context"],[110,17,91,15],[110,20,91,18],[110,24,91,18,"useContext"],[110,30,91,28],[110,31,91,28,"useContext"],[110,41,91,28],[110,43,91,29,"AuthContext"],[110,54,91,40],[110,55,91,41],[111,4,92,2],[111,8,92,6],[111,9,92,7,"context"],[111,16,92,14],[111,18,92,16],[112,6,93,4],[112,12,93,10],[112,16,93,14,"Error"],[112,21,93,19],[112,22,93,20],[112,67,93,65],[112,68,93,66],[113,4,94,2],[114,4,95,2],[114,11,95,9,"context"],[114,18,95,16],[115,2,96,0],[116,2,96,1,"_s2"],[116,5,96,1],[116,6,90,16,"useAuth"],[116,13,90,23],[117,2,90,23],[117,6,90,23,"_c"],[117,8,90,23],[118,2,90,23,"$RefreshReg$"],[118,14,90,23],[118,15,90,23,"_c"],[118,17,90,23],[119,0,90,23],[119,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredUser","signIn","signUp","signOut","useAuth"],"mappings":"AAA;qECqB;YCI;GDE;EEE;GFa;EGE;GHY;EIE;GJgB;EKE;GLI;CDO;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}