{"dependencies":[{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}},{"name":"expo-device","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":38,"index":91}}],"key":"bBpmAhO1g++sdeUzQmFVGoQIVwg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":133},"end":{"line":4,"column":69,"index":202}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":203},"end":{"line":5,"column":24,"index":227}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"pushNotificationService\", {\n    enumerable: true,\n    get: function () {\n      return pushNotificationService;\n    }\n  });\n  var _expoNotifications = require(_dependencyMap[0], \"expo-notifications\");\n  var Notifications = _interopNamespace(_expoNotifications);\n  var _expoDevice = require(_dependencyMap[1], \"expo-device\");\n  var Device = _interopNamespace(_expoDevice);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _api = require(_dependencyMap[4], \"./api\");\n  var api = _interopDefault(_api);\n  // Configurar c√≥mo se manejan las notificaciones cuando la app est√° en primer plano\n  Notifications.setNotificationHandler({\n    handleNotification: async () => ({\n      shouldShowAlert: true,\n      shouldPlaySound: true,\n      shouldSetBadge: true,\n      shouldShowBanner: true,\n      shouldShowList: true\n    })\n  });\n  class PushNotificationService {\n    expoPushToken = null;\n\n    // Registrar para recibir push notifications\n    async registerForPushNotifications() {\n      console.log('üì± PUSH: Registering for push notifications...');\n\n      // Verificar si es un dispositivo f√≠sico\n      if (!Device.isDevice) {\n        console.log('‚ö†Ô∏è PUSH: Must use physical device for Push Notifications');\n        return null;\n      }\n\n      // Verificar/solicitar permisos\n      const {\n        status: existingStatus\n      } = await Notifications.getPermissionsAsync();\n      let finalStatus = existingStatus;\n      if (existingStatus !== 'granted') {\n        console.log('üì± PUSH: Requesting permissions...');\n        const {\n          status\n        } = await Notifications.requestPermissionsAsync();\n        finalStatus = status;\n      }\n      if (finalStatus !== 'granted') {\n        console.log('‚ùå PUSH: Permission not granted');\n        return null;\n      }\n\n      // Obtener el token de Expo Push\n      try {\n        const tokenData = await Notifications.getExpoPushTokenAsync({\n          projectId: '1d4993ea-b1c2-456d-bcf1-928c0dc0b80a' // YAPPA EAS Project ID\n        });\n        this.expoPushToken = tokenData.data;\n        console.log('‚úÖ PUSH: Token obtained:', this.expoPushToken);\n\n        // Guardar token localmente\n        await AsyncStorage.default.setItem('expoPushToken', this.expoPushToken);\n\n        // Enviar token al backend\n        await this.sendTokenToBackend(this.expoPushToken);\n        return this.expoPushToken;\n      } catch (error) {\n        console.error('‚ùå PUSH: Error getting token:', error);\n        return null;\n      }\n    }\n\n    // Enviar token al backend para guardarlo\n    async sendTokenToBackend(token) {\n      try {\n        await api.default.post('/api/notifications/register-token', {\n          push_token: token,\n          platform: Platform.default.OS\n        });\n        console.log('‚úÖ PUSH: Token registered with backend');\n      } catch (error) {\n        console.error('‚ùå PUSH: Error registering token with backend:', error);\n      }\n    }\n\n    // Programar una notificaci√≥n local\n    async scheduleLocalNotification(title, body, data, trigger) {\n      const notificationId = await Notifications.scheduleNotificationAsync({\n        content: {\n          title,\n          body,\n          data: data || {},\n          sound: true,\n          priority: Notifications.AndroidNotificationPriority.HIGH\n        },\n        trigger: trigger || null // null = inmediata\n      });\n      console.log('üì¨ PUSH: Local notification scheduled:', notificationId);\n      return notificationId;\n    }\n\n    // Mostrar notificaci√≥n de insight cr√≠tico\n    async notifyInsight(type, message, entityId) {\n      const titles = {\n        critical_stock: 'üö® ¬°Stock Agotado!',\n        low_stock: '‚ö†Ô∏è Stock Bajo',\n        debt: 'üí∞ Deuda Pendiente'\n      };\n      const icons = {\n        critical_stock: '‚ö†Ô∏è',\n        low_stock: 'üì¶',\n        debt: 'üí∞'\n      };\n      await this.scheduleLocalNotification(titles[type] || 'Yappa Insight', message, {\n        type,\n        entityId,\n        screen: type === 'debt' ? 'customers' : 'inventory'\n      });\n    }\n\n    // Verificar y notificar insights cr√≠ticos (llamar peri√≥dicamente)\n    async checkAndNotifyInsights() {\n      try {\n        console.log('üîç PUSH: Checking for critical insights...');\n        const response = await api.default.get('/api/ai/all-insights');\n        const insights = response.data.insights || [];\n\n        // Obtener √∫ltimas notificaciones enviadas\n        const lastNotifiedStr = await AsyncStorage.default.getItem('lastNotifiedInsights');\n        const lastNotified = lastNotifiedStr ? JSON.parse(lastNotifiedStr) : [];\n        const criticalInsights = insights.filter(i => (i.type === 'critical_stock' || i.priority >= 8) && !lastNotified.includes(i.id));\n        if (criticalInsights.length > 0) {\n          console.log(`üì¨ PUSH: Found ${criticalInsights.length} new critical insights`);\n\n          // Notificar solo el m√°s cr√≠tico para no saturar\n          const mostCritical = criticalInsights[0];\n          await this.notifyInsight(mostCritical.type, mostCritical.message, mostCritical.cta_data?.product_id);\n\n          // Guardar que ya se notific√≥\n          const newNotified = [...lastNotified, ...criticalInsights.map(i => i.id)].slice(-50);\n          await AsyncStorage.default.setItem('lastNotifiedInsights', JSON.stringify(newNotified));\n        }\n      } catch (error) {\n        console.error('‚ùå PUSH: Error checking insights:', error);\n      }\n    }\n\n    // Listeners para cuando se recibe o se toca una notificaci√≥n\n    addNotificationReceivedListener(callback) {\n      return Notifications.addNotificationReceivedListener(callback);\n    }\n    addNotificationResponseReceivedListener(callback) {\n      return Notifications.addNotificationResponseReceivedListener(callback);\n    }\n\n    // Cancelar todas las notificaciones\n    async cancelAllNotifications() {\n      await Notifications.cancelAllScheduledNotificationsAsync();\n      console.log('üóëÔ∏è PUSH: All notifications cancelled');\n    }\n\n    // Obtener el badge actual\n    async getBadgeCount() {\n      return await Notifications.getBadgeCountAsync();\n    }\n\n    // Establecer el badge\n    async setBadgeCount(count) {\n      await Notifications.setBadgeCountAsync(count);\n    }\n  }\n  const pushNotificationService = new PushNotificationService();\n  var _default = pushNotificationService;\n});","lineCount":210,"map":[[27,2,182,0,"Object"],[27,8,182,0],[27,9,182,0,"defineProperty"],[27,23,182,0],[27,24,182,0,"exports"],[27,31,182,0],[28,4,182,0,"enumerable"],[28,14,182,0],[29,4,182,0,"get"],[29,7,182,0],[29,18,182,0,"get"],[29,19,182,0],[30,6,182,0],[30,13,182,0,"_default"],[30,21,182,0],[31,4,182,0],[32,2,182,0],[33,2,181,0,"Object"],[33,8,181,0],[33,9,181,0,"defineProperty"],[33,23,181,0],[33,24,181,0,"exports"],[33,31,181,0],[34,4,181,0,"enumerable"],[34,14,181,0],[35,4,181,0,"get"],[35,7,181,0],[35,18,181,0,"get"],[35,19,181,0],[36,6,181,0],[36,13,181,0,"pushNotificationService"],[36,36,181,0],[37,4,181,0],[38,2,181,0],[39,2,1,0],[39,6,1,0,"_expoNotifications"],[39,24,1,0],[39,27,1,0,"require"],[39,34,1,0],[39,35,1,0,"_dependencyMap"],[39,49,1,0],[40,2,1,0],[40,6,1,0,"Notifications"],[40,19,1,0],[40,22,1,0,"_interopNamespace"],[40,39,1,0],[40,40,1,0,"_expoNotifications"],[40,58,1,0],[41,2,2,0],[41,6,2,0,"_expoDevice"],[41,17,2,0],[41,20,2,0,"require"],[41,27,2,0],[41,28,2,0,"_dependencyMap"],[41,42,2,0],[42,2,2,0],[42,6,2,0,"Device"],[42,12,2,0],[42,15,2,0,"_interopNamespace"],[42,32,2,0],[42,33,2,0,"_expoDevice"],[42,44,2,0],[43,2,2,38],[43,6,2,38,"_reactNativeWebDistExportsPlatform"],[43,40,2,38],[43,43,2,38,"require"],[43,50,2,38],[43,51,2,38,"_dependencyMap"],[43,65,2,38],[44,2,2,38],[44,6,2,38,"Platform"],[44,14,2,38],[44,17,2,38,"_interopDefault"],[44,32,2,38],[44,33,2,38,"_reactNativeWebDistExportsPlatform"],[44,67,2,38],[45,2,4,0],[45,6,4,0,"_reactNativeAsyncStorageAsyncStorage"],[45,42,4,0],[45,45,4,0,"require"],[45,52,4,0],[45,53,4,0,"_dependencyMap"],[45,67,4,0],[46,2,4,0],[46,6,4,0,"AsyncStorage"],[46,18,4,0],[46,21,4,0,"_interopDefault"],[46,36,4,0],[46,37,4,0,"_reactNativeAsyncStorageAsyncStorage"],[46,73,4,0],[47,2,5,0],[47,6,5,0,"_api"],[47,10,5,0],[47,13,5,0,"require"],[47,20,5,0],[47,21,5,0,"_dependencyMap"],[47,35,5,0],[48,2,5,0],[48,6,5,0,"api"],[48,9,5,0],[48,12,5,0,"_interopDefault"],[48,27,5,0],[48,28,5,0,"_api"],[48,32,5,0],[49,2,7,0],[50,2,8,0,"Notifications"],[50,15,8,13],[50,16,8,14,"setNotificationHandler"],[50,38,8,36],[50,39,8,37],[51,4,9,2,"handleNotification"],[51,22,9,20],[51,24,9,22],[51,30,9,22,"handleNotification"],[51,31,9,22],[51,37,9,35],[52,6,10,4,"shouldShowAlert"],[52,21,10,19],[52,23,10,21],[52,27,10,25],[53,6,11,4,"shouldPlaySound"],[53,21,11,19],[53,23,11,21],[53,27,11,25],[54,6,12,4,"shouldSetBadge"],[54,20,12,18],[54,22,12,20],[54,26,12,24],[55,6,13,4,"shouldShowBanner"],[55,22,13,20],[55,24,13,22],[55,28,13,26],[56,6,14,4,"shouldShowList"],[56,20,14,18],[56,22,14,20],[57,4,15,2],[57,5,15,3],[58,2,16,0],[58,3,16,1],[58,4,16,2],[59,2,18,0],[59,8,18,6,"PushNotificationService"],[59,31,18,29],[59,32,18,30],[60,4,19,10,"expoPushToken"],[60,17,19,23],[60,20,19,41],[60,24,19,45],[62,4,21,2],[63,4,22,2],[63,10,22,8,"registerForPushNotifications"],[63,38,22,36,"registerForPushNotifications"],[63,39,22,36],[63,41,22,63],[64,6,23,4,"console"],[64,13,23,11],[64,14,23,12,"log"],[64,17,23,15],[64,18,23,16],[64,66,23,64],[64,67,23,65],[66,6,25,4],[67,6,26,4],[67,10,26,8],[67,11,26,9,"Device"],[67,17,26,15],[67,18,26,16,"isDevice"],[67,26,26,24],[67,28,26,26],[68,8,27,6,"console"],[68,15,27,13],[68,16,27,14,"log"],[68,19,27,17],[68,20,27,18],[68,78,27,76],[68,79,27,77],[69,8,28,6],[69,15,28,13],[69,19,28,17],[70,6,29,4],[72,6,31,4],[73,6,32,4],[73,12,32,10],[74,8,32,12,"status"],[74,14,32,18],[74,16,32,20,"existingStatus"],[75,6,32,35],[75,7,32,36],[75,10,32,39],[75,16,32,45,"Notifications"],[75,29,32,58],[75,30,32,59,"getPermissionsAsync"],[75,49,32,78],[75,50,32,79],[75,51,32,80],[76,6,33,4],[76,10,33,8,"finalStatus"],[76,21,33,19],[76,24,33,22,"existingStatus"],[76,38,33,36],[77,6,35,4],[77,10,35,8,"existingStatus"],[77,24,35,22],[77,29,35,27],[77,38,35,36],[77,40,35,38],[78,8,36,6,"console"],[78,15,36,13],[78,16,36,14,"log"],[78,19,36,17],[78,20,36,18],[78,56,36,54],[78,57,36,55],[79,8,37,6],[79,14,37,12],[80,10,37,14,"status"],[81,8,37,21],[81,9,37,22],[81,12,37,25],[81,18,37,31,"Notifications"],[81,31,37,44],[81,32,37,45,"requestPermissionsAsync"],[81,55,37,68],[81,56,37,69],[81,57,37,70],[82,8,38,6,"finalStatus"],[82,19,38,17],[82,22,38,20,"status"],[82,28,38,26],[83,6,39,4],[84,6,41,4],[84,10,41,8,"finalStatus"],[84,21,41,19],[84,26,41,24],[84,35,41,33],[84,37,41,35],[85,8,42,6,"console"],[85,15,42,13],[85,16,42,14,"log"],[85,19,42,17],[85,20,42,18],[85,52,42,50],[85,53,42,51],[86,8,43,6],[86,15,43,13],[86,19,43,17],[87,6,44,4],[89,6,46,4],[90,6,47,4],[90,10,47,8],[91,8,48,6],[91,14,48,12,"tokenData"],[91,23,48,21],[91,26,48,24],[91,32,48,30,"Notifications"],[91,45,48,43],[91,46,48,44,"getExpoPushTokenAsync"],[91,67,48,65],[91,68,48,66],[92,10,49,8,"projectId"],[92,19,49,17],[92,21,49,19],[92,59,49,57],[92,60,49,59],[93,8,50,6],[93,9,50,7],[93,10,50,8],[94,8,51,6],[94,12,51,10],[94,13,51,11,"expoPushToken"],[94,26,51,24],[94,29,51,27,"tokenData"],[94,38,51,36],[94,39,51,37,"data"],[94,43,51,41],[95,8,52,6,"console"],[95,15,52,13],[95,16,52,14,"log"],[95,19,52,17],[95,20,52,18],[95,45,52,43],[95,47,52,45],[95,51,52,49],[95,52,52,50,"expoPushToken"],[95,65,52,63],[95,66,52,64],[97,8,54,6],[98,8,55,6],[98,14,55,12,"AsyncStorage"],[98,26,55,24],[98,27,55,24,"default"],[98,34,55,24],[98,35,55,25,"setItem"],[98,42,55,32],[98,43,55,33],[98,58,55,48],[98,60,55,50],[98,64,55,54],[98,65,55,55,"expoPushToken"],[98,78,55,68],[98,79,55,69],[100,8,57,6],[101,8,58,6],[101,14,58,12],[101,18,58,16],[101,19,58,17,"sendTokenToBackend"],[101,37,58,35],[101,38,58,36],[101,42,58,40],[101,43,58,41,"expoPushToken"],[101,56,58,54],[101,57,58,55],[102,8,60,6],[102,15,60,13],[102,19,60,17],[102,20,60,18,"expoPushToken"],[102,33,60,31],[103,6,61,4],[103,7,61,5],[103,8,61,6],[103,15,61,13,"error"],[103,20,61,18],[103,22,61,20],[104,8,62,6,"console"],[104,15,62,13],[104,16,62,14,"error"],[104,21,62,19],[104,22,62,20],[104,52,62,50],[104,54,62,52,"error"],[104,59,62,57],[104,60,62,58],[105,8,63,6],[105,15,63,13],[105,19,63,17],[106,6,64,4],[107,4,65,2],[109,4,67,2],[110,4,68,2],[110,10,68,16,"sendTokenToBackend"],[110,28,68,34,"sendTokenToBackend"],[110,29,68,35,"token"],[110,34,68,48],[110,36,68,65],[111,6,69,4],[111,10,69,8],[112,8,70,6],[112,14,70,12,"api"],[112,17,70,15],[112,18,70,15,"default"],[112,25,70,15],[112,26,70,16,"post"],[112,30,70,20],[112,31,70,21],[112,66,70,56],[112,68,70,58],[113,10,71,8,"push_token"],[113,20,71,18],[113,22,71,20,"token"],[113,27,71,25],[114,10,72,8,"platform"],[114,18,72,16],[114,20,72,18,"Platform"],[114,28,72,26],[114,29,72,26,"default"],[114,36,72,26],[114,37,72,27,"OS"],[115,8,73,6],[115,9,73,7],[115,10,73,8],[116,8,74,6,"console"],[116,15,74,13],[116,16,74,14,"log"],[116,19,74,17],[116,20,74,18],[116,59,74,57],[116,60,74,58],[117,6,75,4],[117,7,75,5],[117,8,75,6],[117,15,75,13,"error"],[117,20,75,18],[117,22,75,20],[118,8,76,6,"console"],[118,15,76,13],[118,16,76,14,"error"],[118,21,76,19],[118,22,76,20],[118,69,76,67],[118,71,76,69,"error"],[118,76,76,74],[118,77,76,75],[119,6,77,4],[120,4,78,2],[122,4,80,2],[123,4,81,2],[123,10,81,8,"scheduleLocalNotification"],[123,35,81,33,"scheduleLocalNotification"],[123,36,82,4,"title"],[123,41,82,17],[123,43,83,4,"body"],[123,47,83,16],[123,49,84,4,"data"],[123,53,84,30],[123,55,85,4,"trigger"],[123,62,85,52],[123,64,86,21],[124,6,87,4],[124,12,87,10,"notificationId"],[124,26,87,24],[124,29,87,27],[124,35,87,33,"Notifications"],[124,48,87,46],[124,49,87,47,"scheduleNotificationAsync"],[124,74,87,72],[124,75,87,73],[125,8,88,6,"content"],[125,15,88,13],[125,17,88,15],[126,10,89,8,"title"],[126,15,89,13],[127,10,90,8,"body"],[127,14,90,12],[128,10,91,8,"data"],[128,14,91,12],[128,16,91,14,"data"],[128,20,91,18],[128,24,91,22],[128,25,91,23],[128,26,91,24],[129,10,92,8,"sound"],[129,15,92,13],[129,17,92,15],[129,21,92,19],[130,10,93,8,"priority"],[130,18,93,16],[130,20,93,18,"Notifications"],[130,33,93,31],[130,34,93,32,"AndroidNotificationPriority"],[130,61,93,59],[130,62,93,60,"HIGH"],[131,8,94,6],[131,9,94,7],[132,8,95,6,"trigger"],[132,15,95,13],[132,17,95,15,"trigger"],[132,24,95,22],[132,28,95,26],[132,32,95,30],[132,33,95,32],[133,6,96,4],[133,7,96,5],[133,8,96,6],[134,6,98,4,"console"],[134,13,98,11],[134,14,98,12,"log"],[134,17,98,15],[134,18,98,16],[134,58,98,56],[134,60,98,58,"notificationId"],[134,74,98,72],[134,75,98,73],[135,6,99,4],[135,13,99,11,"notificationId"],[135,27,99,25],[136,4,100,2],[138,4,102,2],[139,4,103,2],[139,10,103,8,"notifyInsight"],[139,23,103,21,"notifyInsight"],[139,24,103,22,"type"],[139,28,103,67],[139,30,103,69,"message"],[139,37,103,84],[139,39,103,86,"entityId"],[139,47,103,103],[139,49,103,120],[140,6,104,4],[140,12,104,10,"titles"],[140,18,104,40],[140,21,104,43],[141,8,105,6,"critical_stock"],[141,22,105,20],[141,24,105,22],[141,44,105,42],[142,8,106,6,"low_stock"],[142,17,106,15],[142,19,106,17],[142,34,106,32],[143,8,107,6,"debt"],[143,12,107,10],[143,14,107,12],[144,6,108,4],[144,7,108,5],[145,6,110,4],[145,12,110,10,"icons"],[145,17,110,39],[145,20,110,42],[146,8,111,6,"critical_stock"],[146,22,111,20],[146,24,111,22],[146,28,111,26],[147,8,112,6,"low_stock"],[147,17,112,15],[147,19,112,17],[147,23,112,21],[148,8,113,6,"debt"],[148,12,113,10],[148,14,113,12],[149,6,114,4],[149,7,114,5],[150,6,116,4],[150,12,116,10],[150,16,116,14],[150,17,116,15,"scheduleLocalNotification"],[150,42,116,40],[150,43,117,6,"titles"],[150,49,117,12],[150,50,117,13,"type"],[150,54,117,17],[150,55,117,18],[150,59,117,22],[150,74,117,37],[150,76,118,6,"message"],[150,83,118,13],[150,85,119,6],[151,8,119,8,"type"],[151,12,119,12],[152,8,119,14,"entityId"],[152,16,119,22],[153,8,119,24,"screen"],[153,14,119,30],[153,16,119,32,"type"],[153,20,119,36],[153,25,119,41],[153,31,119,47],[153,34,119,50],[153,45,119,61],[153,48,119,64],[154,6,119,76],[154,7,120,4],[154,8,120,5],[155,4,121,2],[157,4,123,2],[158,4,124,2],[158,10,124,8,"checkAndNotifyInsights"],[158,32,124,30,"checkAndNotifyInsights"],[158,33,124,30],[158,35,124,48],[159,6,125,4],[159,10,125,8],[160,8,126,6,"console"],[160,15,126,13],[160,16,126,14,"log"],[160,19,126,17],[160,20,126,18],[160,64,126,62],[160,65,126,63],[161,8,128,6],[161,14,128,12,"response"],[161,22,128,20],[161,25,128,23],[161,31,128,29,"api"],[161,34,128,32],[161,35,128,32,"default"],[161,42,128,32],[161,43,128,33,"get"],[161,46,128,36],[161,47,128,37],[161,69,128,59],[161,70,128,60],[162,8,129,6],[162,14,129,12,"insights"],[162,22,129,20],[162,25,129,23,"response"],[162,33,129,31],[162,34,129,32,"data"],[162,38,129,36],[162,39,129,37,"insights"],[162,47,129,45],[162,51,129,49],[162,53,129,51],[164,8,131,6],[165,8,132,6],[165,14,132,12,"lastNotifiedStr"],[165,29,132,27],[165,32,132,30],[165,38,132,36,"AsyncStorage"],[165,50,132,48],[165,51,132,48,"default"],[165,58,132,48],[165,59,132,49,"getItem"],[165,66,132,56],[165,67,132,57],[165,89,132,79],[165,90,132,80],[166,8,133,6],[166,14,133,12,"lastNotified"],[166,26,133,34],[166,29,133,37,"lastNotifiedStr"],[166,44,133,52],[166,47,133,55,"JSON"],[166,51,133,59],[166,52,133,60,"parse"],[166,57,133,65],[166,58,133,66,"lastNotifiedStr"],[166,73,133,81],[166,74,133,82],[166,77,133,85],[166,79,133,87],[167,8,135,6],[167,14,135,12,"criticalInsights"],[167,30,135,28],[167,33,135,31,"insights"],[167,41,135,39],[167,42,135,40,"filter"],[167,48,135,46],[167,49,136,9,"i"],[167,50,136,15],[167,54,136,20],[167,55,136,21,"i"],[167,56,136,22],[167,57,136,23,"type"],[167,61,136,27],[167,66,136,32],[167,82,136,48],[167,86,136,52,"i"],[167,87,136,53],[167,88,136,54,"priority"],[167,96,136,62],[167,100,136,66],[167,101,136,67],[167,106,136,72],[167,107,136,73,"lastNotified"],[167,119,136,85],[167,120,136,86,"includes"],[167,128,136,94],[167,129,136,95,"i"],[167,130,136,96],[167,131,136,97,"id"],[167,133,136,99],[167,134,137,6],[167,135,137,7],[168,8,139,6],[168,12,139,10,"criticalInsights"],[168,28,139,26],[168,29,139,27,"length"],[168,35,139,33],[168,38,139,36],[168,39,139,37],[168,41,139,39],[169,10,140,8,"console"],[169,17,140,15],[169,18,140,16,"log"],[169,21,140,19],[169,22,140,20],[169,40,140,38,"criticalInsights"],[169,56,140,54],[169,57,140,55,"length"],[169,63,140,61],[169,87,140,85],[169,88,140,86],[171,10,142,8],[172,10,143,8],[172,16,143,14,"mostCritical"],[172,28,143,26],[172,31,143,29,"criticalInsights"],[172,47,143,45],[172,48,143,46],[172,49,143,47],[172,50,143,48],[173,10,144,8],[173,16,144,14],[173,20,144,18],[173,21,144,19,"notifyInsight"],[173,34,144,32],[173,35,144,33,"mostCritical"],[173,47,144,45],[173,48,144,46,"type"],[173,52,144,50],[173,54,144,52,"mostCritical"],[173,66,144,64],[173,67,144,65,"message"],[173,74,144,72],[173,76,144,74,"mostCritical"],[173,88,144,86],[173,89,144,87,"cta_data"],[173,97,144,95],[173,99,144,97,"product_id"],[173,109,144,107],[173,110,144,108],[175,10,146,8],[176,10,147,8],[176,16,147,14,"newNotified"],[176,27,147,25],[176,30,147,28],[176,31,147,29],[176,34,147,32,"lastNotified"],[176,46,147,44],[176,48,147,46],[176,51,147,49,"criticalInsights"],[176,67,147,65],[176,68,147,66,"map"],[176,71,147,69],[176,72,147,71,"i"],[176,73,147,77],[176,77,147,82,"i"],[176,78,147,83],[176,79,147,84,"id"],[176,81,147,86],[176,82,147,87],[176,83,147,88],[176,84,147,89,"slice"],[176,89,147,94],[176,90,147,95],[176,91,147,96],[176,93,147,98],[176,94,147,99],[177,10,148,8],[177,16,148,14,"AsyncStorage"],[177,28,148,26],[177,29,148,26,"default"],[177,36,148,26],[177,37,148,27,"setItem"],[177,44,148,34],[177,45,148,35],[177,67,148,57],[177,69,148,59,"JSON"],[177,73,148,63],[177,74,148,64,"stringify"],[177,83,148,73],[177,84,148,74,"newNotified"],[177,95,148,85],[177,96,148,86],[177,97,148,87],[178,8,149,6],[179,6,150,4],[179,7,150,5],[179,8,150,6],[179,15,150,13,"error"],[179,20,150,18],[179,22,150,20],[180,8,151,6,"console"],[180,15,151,13],[180,16,151,14,"error"],[180,21,151,19],[180,22,151,20],[180,56,151,54],[180,58,151,56,"error"],[180,63,151,61],[180,64,151,62],[181,6,152,4],[182,4,153,2],[184,4,155,2],[185,4,156,2,"addNotificationReceivedListener"],[185,35,156,33,"addNotificationReceivedListener"],[185,36,156,34,"callback"],[185,44,156,94],[185,46,156,96],[186,6,157,4],[186,13,157,11,"Notifications"],[186,26,157,24],[186,27,157,25,"addNotificationReceivedListener"],[186,58,157,56],[186,59,157,57,"callback"],[186,67,157,65],[186,68,157,66],[187,4,158,2],[188,4,160,2,"addNotificationResponseReceivedListener"],[188,43,160,41,"addNotificationResponseReceivedListener"],[188,44,160,42,"callback"],[188,52,160,106],[188,54,160,108],[189,6,161,4],[189,13,161,11,"Notifications"],[189,26,161,24],[189,27,161,25,"addNotificationResponseReceivedListener"],[189,66,161,64],[189,67,161,65,"callback"],[189,75,161,73],[189,76,161,74],[190,4,162,2],[192,4,164,2],[193,4,165,2],[193,10,165,8,"cancelAllNotifications"],[193,32,165,30,"cancelAllNotifications"],[193,33,165,30],[193,35,165,48],[194,6,166,4],[194,12,166,10,"Notifications"],[194,25,166,23],[194,26,166,24,"cancelAllScheduledNotificationsAsync"],[194,62,166,60],[194,63,166,61],[194,64,166,62],[195,6,167,4,"console"],[195,13,167,11],[195,14,167,12,"log"],[195,17,167,15],[195,18,167,16],[195,57,167,55],[195,58,167,56],[196,4,168,2],[198,4,170,2],[199,4,171,2],[199,10,171,8,"getBadgeCount"],[199,23,171,21,"getBadgeCount"],[199,24,171,21],[199,26,171,41],[200,6,172,4],[200,13,172,11],[200,19,172,17,"Notifications"],[200,32,172,30],[200,33,172,31,"getBadgeCountAsync"],[200,51,172,49],[200,52,172,50],[200,53,172,51],[201,4,173,2],[203,4,175,2],[204,4,176,2],[204,10,176,8,"setBadgeCount"],[204,23,176,21,"setBadgeCount"],[204,24,176,22,"count"],[204,29,176,35],[204,31,176,52],[205,6,177,4],[205,12,177,10,"Notifications"],[205,25,177,23],[205,26,177,24,"setBadgeCountAsync"],[205,44,177,42],[205,45,177,43,"count"],[205,50,177,48],[205,51,177,49],[206,4,178,2],[207,2,179,0],[208,2,181,7],[208,8,181,13,"pushNotificationService"],[208,31,181,36],[208,34,181,39],[208,38,181,43,"PushNotificationService"],[208,61,181,66],[208,62,181,67],[208,63,181,68],[209,2,182,0],[209,6,182,0,"_default"],[209,14,182,0],[209,17,182,15,"pushNotificationService"],[209,40,182,38],[210,0,182,39],[210,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","PushNotificationService","PushNotificationService#registerForPushNotifications","PushNotificationService#sendTokenToBackend","PushNotificationService#scheduleLocalNotification","PushNotificationService#notifyInsight","PushNotificationService#checkAndNotifyInsights","insights.filter$argument_0","criticalInsights.map$argument_0","PushNotificationService#addNotificationReceivedListener","PushNotificationService#addNotificationResponseReceivedListener","PushNotificationService#cancelAllNotifications","PushNotificationService#getBadgeCount","PushNotificationService#setBadgeCount"],"mappings":"AAA;sBCQ;IDM;AEG;ECI;GD2C;EEG;GFU;EGG;GHmB;EIG;GJkB;EKG;QCY,4FD;sEEW,gBF;GLM;EQG;GRE;ESE;GTE;EUG;GVG;EWG;GXE;EYG;GZE;CFC"},"hasCjsExports":false},"type":"js/module"}]}