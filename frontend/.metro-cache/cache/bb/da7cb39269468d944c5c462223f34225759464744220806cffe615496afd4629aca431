{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":31,"index":180}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredUser();\n    }, []);\n    async function loadStoredUser() {\n      try {\n        const storedUser = await AsyncStorage.default.getItem('user');\n        const storedToken = await AsyncStorage.default.getItem('token');\n        if (storedUser && storedToken) {\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.log('Error loading user:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    async function signIn(email, password) {\n      try {\n        const response = await api.default.post('/api/auth/login', {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Error al iniciar sesi\\u00f3n');\n      }\n    }\n    async function signUp(email, password, storeName) {\n      try {\n        const response = await api.default.post('/api/auth/register', {\n          email,\n          password,\n          store_name: storeName\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Error al registrarse');\n      }\n    }\n    async function signOut() {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setUser(null);\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        signIn,\n        signUp,\n        signOut\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }, this);\n  };\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":110,"map":[[13,2,22,0,"Object"],[13,8,22,0],[13,9,22,0,"defineProperty"],[13,23,22,0],[13,24,22,0,"exports"],[13,31,22,0],[14,4,22,0,"enumerable"],[14,14,22,0],[15,4,22,0,"get"],[15,7,22,0],[15,18,22,0,"get"],[15,19,22,0],[16,6,22,0],[16,13,22,0,"AuthProvider"],[16,25,22,0],[17,4,22,0],[18,2,22,0],[19,2,90,0,"exports"],[19,9,90,0],[19,10,90,0,"useAuth"],[19,17,90,0],[19,20,90,0,"useAuth"],[19,27,90,0],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,3,0],[23,6,3,0,"_utilsApi"],[23,15,3,0],[23,18,3,0,"require"],[23,25,3,0],[23,26,3,0,"_dependencyMap"],[23,40,3,0],[24,2,3,0],[24,6,3,0,"api"],[24,9,3,0],[24,12,3,0,"_interopDefault"],[24,27,3,0],[24,28,3,0,"_utilsApi"],[24,37,3,0],[25,2,3,31],[25,6,3,31,"_reactJsxDevRuntime"],[25,25,3,31],[25,28,3,31,"require"],[25,35,3,31],[25,36,3,31,"_dependencyMap"],[25,50,3,31],[26,2,20,0],[26,8,20,6,"AuthContext"],[26,19,20,17],[26,35,20,20],[26,39,20,20,"createContext"],[26,45,20,33],[26,46,20,33,"createContext"],[26,59,20,33],[26,61,20,51],[26,62,20,52],[26,63,20,72],[26,64,20,73],[27,2,22,7],[27,8,22,13,"AuthProvider"],[27,20,22,66],[27,23,22,69,"AuthProvider"],[27,24,22,70],[28,4,22,72,"children"],[29,2,22,81],[29,3,22,82],[29,8,22,87],[30,4,23,2],[30,10,23,8],[30,11,23,9,"user"],[30,15,23,13],[30,17,23,15,"setUser"],[30,24,23,22],[30,25,23,23],[30,28,23,26],[30,32,23,26,"useState"],[30,38,23,34],[30,39,23,34,"useState"],[30,47,23,34],[30,49,23,48],[30,53,23,52],[30,54,23,53],[31,4,24,2],[31,10,24,8],[31,11,24,9,"loading"],[31,18,24,16],[31,20,24,18,"setLoading"],[31,30,24,28],[31,31,24,29],[31,34,24,32],[31,38,24,32,"useState"],[31,44,24,40],[31,45,24,40,"useState"],[31,53,24,40],[31,55,24,41],[31,59,24,45],[31,60,24,46],[32,4,26,2],[32,8,26,2,"useEffect"],[32,14,26,11],[32,15,26,11,"useEffect"],[32,24,26,11],[32,26,26,12],[32,32,26,18],[33,6,27,4,"loadStoredUser"],[33,20,27,18],[33,21,27,19],[33,22,27,20],[34,4,28,2],[34,5,28,3],[34,7,28,5],[34,9,28,7],[34,10,28,8],[35,4,30,2],[35,19,30,17,"loadStoredUser"],[35,33,30,31,"loadStoredUser"],[35,34,30,31],[35,36,30,34],[36,6,31,4],[36,10,31,8],[37,8,32,6],[37,14,32,12,"storedUser"],[37,24,32,22],[37,27,32,25],[37,33,32,31,"AsyncStorage"],[37,45,32,43],[37,46,32,43,"default"],[37,53,32,43],[37,54,32,44,"getItem"],[37,61,32,51],[37,62,32,52],[37,68,32,58],[37,69,32,59],[38,8,33,6],[38,14,33,12,"storedToken"],[38,25,33,23],[38,28,33,26],[38,34,33,32,"AsyncStorage"],[38,46,33,44],[38,47,33,44,"default"],[38,54,33,44],[38,55,33,45,"getItem"],[38,62,33,52],[38,63,33,53],[38,70,33,60],[38,71,33,61],[39,8,35,6],[39,12,35,10,"storedUser"],[39,22,35,20],[39,26,35,24,"storedToken"],[39,37,35,35],[39,39,35,37],[40,10,36,8,"setUser"],[40,17,36,15],[40,18,36,16,"JSON"],[40,22,36,20],[40,23,36,21,"parse"],[40,28,36,26],[40,29,36,27,"storedUser"],[40,39,36,37],[40,40,36,38],[40,41,36,39],[41,8,37,6],[42,6,38,4],[42,7,38,5],[42,8,38,6],[42,15,38,13,"error"],[42,20,38,18],[42,22,38,20],[43,8,39,6,"console"],[43,15,39,13],[43,16,39,14,"log"],[43,19,39,17],[43,20,39,18],[43,41,39,39],[43,43,39,41,"error"],[43,48,39,46],[43,49,39,47],[44,6,40,4],[44,7,40,5],[44,16,40,14],[45,8,41,6,"setLoading"],[45,18,41,16],[45,19,41,17],[45,24,41,22],[45,25,41,23],[46,6,42,4],[47,4,43,2],[48,4,45,2],[48,19,45,17,"signIn"],[48,25,45,23,"signIn"],[48,26,45,24,"email"],[48,31,45,37],[48,33,45,39,"password"],[48,41,45,55],[48,43,45,57],[49,6,46,4],[49,10,46,8],[50,8,47,6],[50,14,47,12,"response"],[50,22,47,20],[50,25,47,23],[50,31,47,29,"api"],[50,34,47,32],[50,35,47,32,"default"],[50,42,47,32],[50,43,47,33,"post"],[50,47,47,37],[50,48,47,38],[50,65,47,55],[50,67,47,57],[51,10,47,59,"email"],[51,15,47,64],[52,10,47,66,"password"],[53,8,47,75],[53,9,47,76],[53,10,47,77],[54,8,48,6],[54,14,48,12],[55,10,48,14,"access_token"],[55,22,48,26],[56,10,48,28,"user"],[56,14,48,32],[56,16,48,34,"userData"],[57,8,48,43],[57,9,48,44],[57,12,48,47,"response"],[57,20,48,55],[57,21,48,56,"data"],[57,25,48,60],[58,8,50,6],[58,14,50,12,"AsyncStorage"],[58,26,50,24],[58,27,50,24,"default"],[58,34,50,24],[58,35,50,25,"setItem"],[58,42,50,32],[58,43,50,33],[58,50,50,40],[58,52,50,42,"access_token"],[58,64,50,54],[58,65,50,55],[59,8,51,6],[59,14,51,12,"AsyncStorage"],[59,26,51,24],[59,27,51,24,"default"],[59,34,51,24],[59,35,51,25,"setItem"],[59,42,51,32],[59,43,51,33],[59,49,51,39],[59,51,51,41,"JSON"],[59,55,51,45],[59,56,51,46,"stringify"],[59,65,51,55],[59,66,51,56,"userData"],[59,74,51,64],[59,75,51,65],[59,76,51,66],[60,8,53,6,"setUser"],[60,15,53,13],[60,16,53,14,"userData"],[60,24,53,22],[60,25,53,23],[61,6,54,4],[61,7,54,5],[61,8,54,6],[61,15,54,13,"error"],[61,20,54,23],[61,22,54,25],[62,8,55,6],[62,14,55,12],[62,18,55,16,"Error"],[62,23,55,21],[62,24,55,22,"error"],[62,29,55,27],[62,30,55,28,"response"],[62,38,55,36],[62,40,55,38,"data"],[62,44,55,42],[62,46,55,44,"detail"],[62,52,55,50],[62,56,55,54],[62,86,55,84],[62,87,55,85],[63,6,56,4],[64,4,57,2],[65,4,59,2],[65,19,59,17,"signUp"],[65,25,59,23,"signUp"],[65,26,59,24,"email"],[65,31,59,37],[65,33,59,39,"password"],[65,41,59,55],[65,43,59,57,"storeName"],[65,52,59,74],[65,54,59,76],[66,6,60,4],[66,10,60,8],[67,8,61,6],[67,14,61,12,"response"],[67,22,61,20],[67,25,61,23],[67,31,61,29,"api"],[67,34,61,32],[67,35,61,32,"default"],[67,42,61,32],[67,43,61,33,"post"],[67,47,61,37],[67,48,61,38],[67,68,61,58],[67,70,61,60],[68,10,62,8,"email"],[68,15,62,13],[69,10,63,8,"password"],[69,18,63,16],[70,10,64,8,"store_name"],[70,20,64,18],[70,22,64,20,"storeName"],[71,8,65,6],[71,9,65,7],[71,10,65,8],[72,8,66,6],[72,14,66,12],[73,10,66,14,"access_token"],[73,22,66,26],[74,10,66,28,"user"],[74,14,66,32],[74,16,66,34,"userData"],[75,8,66,43],[75,9,66,44],[75,12,66,47,"response"],[75,20,66,55],[75,21,66,56,"data"],[75,25,66,60],[76,8,68,6],[76,14,68,12,"AsyncStorage"],[76,26,68,24],[76,27,68,24,"default"],[76,34,68,24],[76,35,68,25,"setItem"],[76,42,68,32],[76,43,68,33],[76,50,68,40],[76,52,68,42,"access_token"],[76,64,68,54],[76,65,68,55],[77,8,69,6],[77,14,69,12,"AsyncStorage"],[77,26,69,24],[77,27,69,24,"default"],[77,34,69,24],[77,35,69,25,"setItem"],[77,42,69,32],[77,43,69,33],[77,49,69,39],[77,51,69,41,"JSON"],[77,55,69,45],[77,56,69,46,"stringify"],[77,65,69,55],[77,66,69,56,"userData"],[77,74,69,64],[77,75,69,65],[77,76,69,66],[78,8,71,6,"setUser"],[78,15,71,13],[78,16,71,14,"userData"],[78,24,71,22],[78,25,71,23],[79,6,72,4],[79,7,72,5],[79,8,72,6],[79,15,72,13,"error"],[79,20,72,23],[79,22,72,25],[80,8,73,6],[80,14,73,12],[80,18,73,16,"Error"],[80,23,73,21],[80,24,73,22,"error"],[80,29,73,27],[80,30,73,28,"response"],[80,38,73,36],[80,40,73,38,"data"],[80,44,73,42],[80,46,73,44,"detail"],[80,52,73,50],[80,56,73,54],[80,78,73,76],[80,79,73,77],[81,6,74,4],[82,4,75,2],[83,4,77,2],[83,19,77,17,"signOut"],[83,26,77,24,"signOut"],[83,27,77,24],[83,29,77,27],[84,6,78,4],[84,12,78,10,"AsyncStorage"],[84,24,78,22],[84,25,78,22,"default"],[84,32,78,22],[84,33,78,23,"removeItem"],[84,43,78,33],[84,44,78,34],[84,51,78,41],[84,52,78,42],[85,6,79,4],[85,12,79,10,"AsyncStorage"],[85,24,79,22],[85,25,79,22,"default"],[85,32,79,22],[85,33,79,23,"removeItem"],[85,43,79,33],[85,44,79,34],[85,50,79,40],[85,51,79,41],[86,6,80,4,"setUser"],[86,13,80,11],[86,14,80,12],[86,18,80,16],[86,19,80,17],[87,4,81,2],[88,4,83,2],[88,24,84,4],[88,28,84,4,"_reactJsxDevRuntime"],[88,47,84,4],[88,48,84,4,"jsxDEV"],[88,54,84,4],[88,56,84,5,"AuthContext"],[88,67,84,16],[88,68,84,17,"Provider"],[88,76,84,25],[89,6,84,26,"value"],[89,11,84,31],[89,13,84,33],[90,8,84,35,"user"],[90,12,84,39],[91,8,84,41,"loading"],[91,15,84,48],[92,8,84,50,"signIn"],[92,14,84,56],[93,8,84,58,"signUp"],[93,14,84,64],[94,8,84,66,"signOut"],[95,6,84,74],[95,7,84,76],[96,6,84,76,"children"],[96,14,84,76],[96,16,85,7,"children"],[97,4,85,15],[98,6,85,15,"fileName"],[98,14,85,15],[98,16,85,15,"_jsxFileName"],[98,28,85,15],[99,6,85,15,"lineNumber"],[99,16,85,15],[100,6,85,15,"columnNumber"],[100,18,85,15],[101,4,85,15],[101,11,86,26],[101,12,86,27],[102,2,88,0],[102,3,88,1],[103,2,90,7],[103,11,90,16,"useAuth"],[103,18,90,23,"useAuth"],[103,19,90,23],[103,21,90,26],[104,4,91,2],[104,10,91,8,"context"],[104,17,91,15],[104,20,91,18],[104,24,91,18,"useContext"],[104,30,91,28],[104,31,91,28,"useContext"],[104,41,91,28],[104,43,91,29,"AuthContext"],[104,54,91,40],[104,55,91,41],[105,4,92,2],[105,8,92,6],[105,9,92,7,"context"],[105,16,92,14],[105,18,92,16],[106,6,93,4],[106,12,93,10],[106,16,93,14,"Error"],[106,21,93,19],[106,22,93,20],[106,67,93,65],[106,68,93,66],[107,4,94,2],[108,4,95,2],[108,11,95,9,"context"],[108,18,95,16],[109,2,96,0],[110,0,96,1],[110,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredUser","signIn","signUp","signOut","useAuth"],"mappings":"AAA;qECqB;YCI;GDE;EEE;GFa;EGE;GHY;EIE;GJgB;EKE;GLI;CDO;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}