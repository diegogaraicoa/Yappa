{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":31,"index":180}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredUser();\n    }, []);\n    async function loadStoredUser() {\n      try {\n        const storedUser = await AsyncStorage.default.getItem('user');\n        const storedToken = await AsyncStorage.default.getItem('token');\n        if (storedUser && storedToken) {\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.log('Error loading user:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    async function signIn(email, password) {\n      try {\n        const response = await api.default.post('/api/auth/login', {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Error al iniciar sesi√≥n');\n      }\n    }\n    async function signUp(email, password, storeName, whatsappNumber) {\n      try {\n        const response = await api.default.post('/api/auth/register', {\n          email,\n          password,\n          store_name: storeName,\n          whatsapp_number: whatsappNumber\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Error al registrarse');\n      }\n    }\n    async function signOut() {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setUser(null);\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        signIn,\n        signUp,\n        signOut\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this);\n  };\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":111,"map":[[13,2,22,0,"Object"],[13,8,22,0],[13,9,22,0,"defineProperty"],[13,23,22,0],[13,24,22,0,"exports"],[13,31,22,0],[14,4,22,0,"enumerable"],[14,14,22,0],[15,4,22,0,"get"],[15,7,22,0],[15,18,22,0,"get"],[15,19,22,0],[16,6,22,0],[16,13,22,0,"AuthProvider"],[16,25,22,0],[17,4,22,0],[18,2,22,0],[19,2,91,0,"exports"],[19,9,91,0],[19,10,91,0,"useAuth"],[19,17,91,0],[19,20,91,0,"useAuth"],[19,27,91,0],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,3,0],[23,6,3,0,"_utilsApi"],[23,15,3,0],[23,18,3,0,"require"],[23,25,3,0],[23,26,3,0,"_dependencyMap"],[23,40,3,0],[24,2,3,0],[24,6,3,0,"api"],[24,9,3,0],[24,12,3,0,"_interopDefault"],[24,27,3,0],[24,28,3,0,"_utilsApi"],[24,37,3,0],[25,2,3,31],[25,6,3,31,"_reactJsxDevRuntime"],[25,25,3,31],[25,28,3,31,"require"],[25,35,3,31],[25,36,3,31,"_dependencyMap"],[25,50,3,31],[26,2,20,0],[26,8,20,6,"AuthContext"],[26,19,20,17],[26,35,20,20],[26,39,20,20,"createContext"],[26,45,20,33],[26,46,20,33,"createContext"],[26,59,20,33],[26,61,20,51],[26,62,20,52],[26,63,20,72],[26,64,20,73],[27,2,22,7],[27,8,22,13,"AuthProvider"],[27,20,22,66],[27,23,22,69,"AuthProvider"],[27,24,22,70],[28,4,22,72,"children"],[29,2,22,81],[29,3,22,82],[29,8,22,87],[30,4,23,2],[30,10,23,8],[30,11,23,9,"user"],[30,15,23,13],[30,17,23,15,"setUser"],[30,24,23,22],[30,25,23,23],[30,28,23,26],[30,32,23,26,"useState"],[30,38,23,34],[30,39,23,34,"useState"],[30,47,23,34],[30,49,23,48],[30,53,23,52],[30,54,23,53],[31,4,24,2],[31,10,24,8],[31,11,24,9,"loading"],[31,18,24,16],[31,20,24,18,"setLoading"],[31,30,24,28],[31,31,24,29],[31,34,24,32],[31,38,24,32,"useState"],[31,44,24,40],[31,45,24,40,"useState"],[31,53,24,40],[31,55,24,41],[31,59,24,45],[31,60,24,46],[32,4,26,2],[32,8,26,2,"useEffect"],[32,14,26,11],[32,15,26,11,"useEffect"],[32,24,26,11],[32,26,26,12],[32,32,26,18],[33,6,27,4,"loadStoredUser"],[33,20,27,18],[33,21,27,19],[33,22,27,20],[34,4,28,2],[34,5,28,3],[34,7,28,5],[34,9,28,7],[34,10,28,8],[35,4,30,2],[35,19,30,17,"loadStoredUser"],[35,33,30,31,"loadStoredUser"],[35,34,30,31],[35,36,30,34],[36,6,31,4],[36,10,31,8],[37,8,32,6],[37,14,32,12,"storedUser"],[37,24,32,22],[37,27,32,25],[37,33,32,31,"AsyncStorage"],[37,45,32,43],[37,46,32,43,"default"],[37,53,32,43],[37,54,32,44,"getItem"],[37,61,32,51],[37,62,32,52],[37,68,32,58],[37,69,32,59],[38,8,33,6],[38,14,33,12,"storedToken"],[38,25,33,23],[38,28,33,26],[38,34,33,32,"AsyncStorage"],[38,46,33,44],[38,47,33,44,"default"],[38,54,33,44],[38,55,33,45,"getItem"],[38,62,33,52],[38,63,33,53],[38,70,33,60],[38,71,33,61],[39,8,35,6],[39,12,35,10,"storedUser"],[39,22,35,20],[39,26,35,24,"storedToken"],[39,37,35,35],[39,39,35,37],[40,10,36,8,"setUser"],[40,17,36,15],[40,18,36,16,"JSON"],[40,22,36,20],[40,23,36,21,"parse"],[40,28,36,26],[40,29,36,27,"storedUser"],[40,39,36,37],[40,40,36,38],[40,41,36,39],[41,8,37,6],[42,6,38,4],[42,7,38,5],[42,8,38,6],[42,15,38,13,"error"],[42,20,38,18],[42,22,38,20],[43,8,39,6,"console"],[43,15,39,13],[43,16,39,14,"log"],[43,19,39,17],[43,20,39,18],[43,41,39,39],[43,43,39,41,"error"],[43,48,39,46],[43,49,39,47],[44,6,40,4],[44,7,40,5],[44,16,40,14],[45,8,41,6,"setLoading"],[45,18,41,16],[45,19,41,17],[45,24,41,22],[45,25,41,23],[46,6,42,4],[47,4,43,2],[48,4,45,2],[48,19,45,17,"signIn"],[48,25,45,23,"signIn"],[48,26,45,24,"email"],[48,31,45,37],[48,33,45,39,"password"],[48,41,45,55],[48,43,45,57],[49,6,46,4],[49,10,46,8],[50,8,47,6],[50,14,47,12,"response"],[50,22,47,20],[50,25,47,23],[50,31,47,29,"api"],[50,34,47,32],[50,35,47,32,"default"],[50,42,47,32],[50,43,47,33,"post"],[50,47,47,37],[50,48,47,38],[50,65,47,55],[50,67,47,57],[51,10,47,59,"email"],[51,15,47,64],[52,10,47,66,"password"],[53,8,47,75],[53,9,47,76],[53,10,47,77],[54,8,48,6],[54,14,48,12],[55,10,48,14,"access_token"],[55,22,48,26],[56,10,48,28,"user"],[56,14,48,32],[56,16,48,34,"userData"],[57,8,48,43],[57,9,48,44],[57,12,48,47,"response"],[57,20,48,55],[57,21,48,56,"data"],[57,25,48,60],[58,8,50,6],[58,14,50,12,"AsyncStorage"],[58,26,50,24],[58,27,50,24,"default"],[58,34,50,24],[58,35,50,25,"setItem"],[58,42,50,32],[58,43,50,33],[58,50,50,40],[58,52,50,42,"access_token"],[58,64,50,54],[58,65,50,55],[59,8,51,6],[59,14,51,12,"AsyncStorage"],[59,26,51,24],[59,27,51,24,"default"],[59,34,51,24],[59,35,51,25,"setItem"],[59,42,51,32],[59,43,51,33],[59,49,51,39],[59,51,51,41,"JSON"],[59,55,51,45],[59,56,51,46,"stringify"],[59,65,51,55],[59,66,51,56,"userData"],[59,74,51,64],[59,75,51,65],[59,76,51,66],[60,8,53,6,"setUser"],[60,15,53,13],[60,16,53,14,"userData"],[60,24,53,22],[60,25,53,23],[61,6,54,4],[61,7,54,5],[61,8,54,6],[61,15,54,13,"error"],[61,20,54,23],[61,22,54,25],[62,8,55,6],[62,14,55,12],[62,18,55,16,"Error"],[62,23,55,21],[62,24,55,22,"error"],[62,29,55,27],[62,30,55,28,"response"],[62,38,55,36],[62,40,55,38,"data"],[62,44,55,42],[62,46,55,44,"detail"],[62,52,55,50],[62,56,55,54],[62,81,55,79],[62,82,55,80],[63,6,56,4],[64,4,57,2],[65,4,59,2],[65,19,59,17,"signUp"],[65,25,59,23,"signUp"],[65,26,59,24,"email"],[65,31,59,37],[65,33,59,39,"password"],[65,41,59,55],[65,43,59,57,"storeName"],[65,52,59,74],[65,54,59,76,"whatsappNumber"],[65,68,59,98],[65,70,59,100],[66,6,60,4],[66,10,60,8],[67,8,61,6],[67,14,61,12,"response"],[67,22,61,20],[67,25,61,23],[67,31,61,29,"api"],[67,34,61,32],[67,35,61,32,"default"],[67,42,61,32],[67,43,61,33,"post"],[67,47,61,37],[67,48,61,38],[67,68,61,58],[67,70,61,60],[68,10,62,8,"email"],[68,15,62,13],[69,10,63,8,"password"],[69,18,63,16],[70,10,64,8,"store_name"],[70,20,64,18],[70,22,64,20,"storeName"],[70,31,64,29],[71,10,65,8,"whatsapp_number"],[71,25,65,23],[71,27,65,25,"whatsappNumber"],[72,8,66,6],[72,9,66,7],[72,10,66,8],[73,8,67,6],[73,14,67,12],[74,10,67,14,"access_token"],[74,22,67,26],[75,10,67,28,"user"],[75,14,67,32],[75,16,67,34,"userData"],[76,8,67,43],[76,9,67,44],[76,12,67,47,"response"],[76,20,67,55],[76,21,67,56,"data"],[76,25,67,60],[77,8,69,6],[77,14,69,12,"AsyncStorage"],[77,26,69,24],[77,27,69,24,"default"],[77,34,69,24],[77,35,69,25,"setItem"],[77,42,69,32],[77,43,69,33],[77,50,69,40],[77,52,69,42,"access_token"],[77,64,69,54],[77,65,69,55],[78,8,70,6],[78,14,70,12,"AsyncStorage"],[78,26,70,24],[78,27,70,24,"default"],[78,34,70,24],[78,35,70,25,"setItem"],[78,42,70,32],[78,43,70,33],[78,49,70,39],[78,51,70,41,"JSON"],[78,55,70,45],[78,56,70,46,"stringify"],[78,65,70,55],[78,66,70,56,"userData"],[78,74,70,64],[78,75,70,65],[78,76,70,66],[79,8,72,6,"setUser"],[79,15,72,13],[79,16,72,14,"userData"],[79,24,72,22],[79,25,72,23],[80,6,73,4],[80,7,73,5],[80,8,73,6],[80,15,73,13,"error"],[80,20,73,23],[80,22,73,25],[81,8,74,6],[81,14,74,12],[81,18,74,16,"Error"],[81,23,74,21],[81,24,74,22,"error"],[81,29,74,27],[81,30,74,28,"response"],[81,38,74,36],[81,40,74,38,"data"],[81,44,74,42],[81,46,74,44,"detail"],[81,52,74,50],[81,56,74,54],[81,78,74,76],[81,79,74,77],[82,6,75,4],[83,4,76,2],[84,4,78,2],[84,19,78,17,"signOut"],[84,26,78,24,"signOut"],[84,27,78,24],[84,29,78,27],[85,6,79,4],[85,12,79,10,"AsyncStorage"],[85,24,79,22],[85,25,79,22,"default"],[85,32,79,22],[85,33,79,23,"removeItem"],[85,43,79,33],[85,44,79,34],[85,51,79,41],[85,52,79,42],[86,6,80,4],[86,12,80,10,"AsyncStorage"],[86,24,80,22],[86,25,80,22,"default"],[86,32,80,22],[86,33,80,23,"removeItem"],[86,43,80,33],[86,44,80,34],[86,50,80,40],[86,51,80,41],[87,6,81,4,"setUser"],[87,13,81,11],[87,14,81,12],[87,18,81,16],[87,19,81,17],[88,4,82,2],[89,4,84,2],[89,24,85,4],[89,28,85,4,"_reactJsxDevRuntime"],[89,47,85,4],[89,48,85,4,"jsxDEV"],[89,54,85,4],[89,56,85,5,"AuthContext"],[89,67,85,16],[89,68,85,17,"Provider"],[89,76,85,25],[90,6,85,26,"value"],[90,11,85,31],[90,13,85,33],[91,8,85,35,"user"],[91,12,85,39],[92,8,85,41,"loading"],[92,15,85,48],[93,8,85,50,"signIn"],[93,14,85,56],[94,8,85,58,"signUp"],[94,14,85,64],[95,8,85,66,"signOut"],[96,6,85,74],[96,7,85,76],[97,6,85,76,"children"],[97,14,85,76],[97,16,86,7,"children"],[98,4,86,15],[99,6,86,15,"fileName"],[99,14,86,15],[99,16,86,15,"_jsxFileName"],[99,28,86,15],[100,6,86,15,"lineNumber"],[100,16,86,15],[101,6,86,15,"columnNumber"],[101,18,86,15],[102,4,86,15],[102,11,87,26],[102,12,87,27],[103,2,89,0],[103,3,89,1],[104,2,91,7],[104,11,91,16,"useAuth"],[104,18,91,23,"useAuth"],[104,19,91,23],[104,21,91,26],[105,4,92,2],[105,10,92,8,"context"],[105,17,92,15],[105,20,92,18],[105,24,92,18,"useContext"],[105,30,92,28],[105,31,92,28,"useContext"],[105,41,92,28],[105,43,92,29,"AuthContext"],[105,54,92,40],[105,55,92,41],[106,4,93,2],[106,8,93,6],[106,9,93,7,"context"],[106,16,93,14],[106,18,93,16],[107,6,94,4],[107,12,94,10],[107,16,94,14,"Error"],[107,21,94,19],[107,22,94,20],[107,67,94,65],[107,68,94,66],[108,4,95,2],[109,4,96,2],[109,11,96,9,"context"],[109,18,96,16],[110,2,97,0],[111,0,97,1],[111,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredUser","signIn","signUp","signOut","useAuth"],"mappings":"AAA;qECqB;YCI;GDE;EEE;GFa;EGE;GHY;EIE;GJiB;EKE;GLI;CDO;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}